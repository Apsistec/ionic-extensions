!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("@co.mmons/angular-extensions/browser/match-media"),require("@co.mmons/angular-intl"),require("@ionic/angular"),require("@co.mmons/ionic-extensions/scroll")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions/form-helper",["exports","@angular/common","@angular/core","@angular/forms","@co.mmons/angular-extensions/browser/match-media","@co.mmons/angular-intl","@ionic/angular","@co.mmons/ionic-extensions/scroll"],t):t(((e=e||self).co=e.co||{},e.co.mmons=e.co.mmons||{},e.co.mmons["ionic-extensions"]=e.co.mmons["ionic-extensions"]||{},e.co.mmons["ionic-extensions"]["form-helper"]={}),e.ng.common,e.ng.core,e.ng.forms,e.matchMedia,e.angularIntl,e.angular,e.scroll)}(this,(function(e,t,n,o,r,i,l,a){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function c(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l}function s(e,t){return function(n,o){t(n,o,e)}}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}var m=function(){function e(){}return c([n.HostBinding("attr.sticky"),n.Input()],e.prototype,"sticky",void 0),e=c([n.Component({selector:"ionx-form-heading",template:'\n        <ng-content select="ion-item"></ng-content>\n        <div ionx--under>\n            <ng-content></ng-content>\n        </div>\n    ',styles:[":host{display:block;margin-top:16px}:host ::ng-deep ion-item{--padding-start:0px;--padding-end:0px;--inner-padding-end:16px;--inner-padding-start:16px}:host ::ng-deep ion-item>ion-label{font-size:.9rem;font-weight:500}:host [ionx--under]:not(:empty){padding:8px 16px}:host[sticky]:not([sticky=false]){position:-webkit-sticky;position:sticky;top:0;z-index:3}:host-context(ion-grid) ::ng-deep ion-item{--padding-start:8px;--padding-end:8px;--inner-padding-end:0px;--inner-padding-start:0px}:host-context(ion-grid) [ionx--under]:not(:empty){padding:8px}:host-context(.ios) ::ng-deep ion-item.item-label>ion-label{font-size:.8rem;letter-spacing:1px;text-transform:uppercase}"]})],e)}(),u=function(){function e(e,t,n){this.element=e,this.ngForm=t,this.formGroupDirective=n}return Object.defineProperty(e.prototype,"readonly",{get:function(){return this.element.nativeElement.hasAttribute("readonly")},set:function(e){e?this.element.nativeElement.setAttribute("readonly",""):this.element.nativeElement.removeAttribute("readonly")},enumerable:!0,configurable:!0}),e.prototype.markAsReadonly=function(){this.readonly=!0},Object.defineProperty(e.prototype,"busy",{get:function(){return this.element.nativeElement.hasAttribute("busy")},set:function(e){e?this.element.nativeElement.setAttribute("busy",""):this.element.nativeElement.removeAttribute("busy")},enumerable:!0,configurable:!0}),e.prototype.markAsBusy=function(){this.busy=!0},e.prototype.formControlName=function(e){var t,n;try{for(var o=p(this.contentControls.toArray()),r=o.next();!r.done;r=o.next()){var i=r.value;if(i.name==e)return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},Object.defineProperty(e.prototype,"formGroup",{get:function(){return this.formGroupDirective?this.formGroupDirective.form:void 0},enumerable:!0,configurable:!0}),e.prototype.validateAll=function(e){var t,n;if(void 0===e&&(e="touched"),this.formGroupDirective){for(var o in this.formGroup.controls){var r=this.formGroup.controls[o];"touched"==e&&r.markAsTouched(),"dirty"==e&&r.markAsDirty(),r.updateValueAndValidity()}try{for(var i=p(this.contentControls.toArray()),l=i.next();!l.done;l=i.next()){if(!(r=l.value).valid){this.focusImpl(r);break}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.focusImpl=function(e,t){var r,i,l;if(void 0===t&&(t=!0),"string"==typeof e&&this.formGroupDirective)try{for(var c=p(this.formGroupDirective.directives),s=c.next();!s.done;s=c.next()){var m=s.value;if(m.name==e){e=m;break}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(e instanceof o.FormControlName&&(e=e.valueAccessor),e.el instanceof n.ElementRef&&(l=e.el.nativeElement),e._elementRef instanceof n.ElementRef&&(l=e._elementRef.nativeElement),l)if(l.setFocus)l.setFocus();else{var u=l,f=l.shadowRoot&&l.shadowRoot.querySelector(".native-input")||l.querySelector(".native-input");f&&(u=f),u.focus()}t&&l&&a.scrollIntoView(l.closest("ion-item")||l)},e.prototype.focus=function(e,t){void 0===t&&(t=!0),this.focusImpl(e,t)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:o.NgForm,decorators:[{type:n.Optional}]},{type:o.FormGroupDirective,decorators:[{type:n.Optional}]}]},c([n.Input()],e.prototype,"readonly",null),c([n.Input()],e.prototype,"busy",null),c([n.ContentChildren(o.FormControlName,{descendants:!0})],e.prototype,"contentControls",void 0),e=c([n.Directive({selector:"[ionx-form-helper], [ionxFormHelper]",exportAs:"ionxFormHelper"}),s(1,n.Optional()),s(2,n.Optional())],e)}(),f=function(){function e(){}return e=c([n.Component({selector:"ionx-form-item",template:'<ng-content select="ion-item"></ng-content><ng-content select="ionx-form-item-error"></ng-content><ng-content select="ionx-form-item-hint"></ng-content><ng-content></ng-content>',styles:[":host{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}:host ::ng-deep ion-item{--padding-start:0px;--inner-padding-end:0px;--inner-padding-start:0px;--padding-end:0px;--inner-border-width:0px;--border-width:0px 0px 1px 0px}"]})],e)}(),d=function(){function e(e){this.formGroup=e,this.markedAs="touched"}return Object.defineProperty(e.prototype,"control",{get:function(){return"string"==typeof this._control?this.formGroup.form&&this.formGroup.form.controls[this._control]:this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlOrName",{set:function(e){this._control=e},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:o.FormGroupDirective}]},c([n.Input()],e.prototype,"icon",void 0),c([n.Input()],e.prototype,"markedAs",void 0),c([n.Input("control")],e.prototype,"controlOrName",null),e=c([n.Component({selector:"ionx-form-item-error",template:'\n        <ion-icon [name]="icon" *ngIf="!!icon"></ion-icon>\n        <label>\n            <ng-template [ngIf]="control">{{control | intlValidationErrorMessage}}</ng-template>\n            <ng-content></ng-content>\n        </label>\n    ',host:{"[class.ionx--visible]":"!control || !!(control.invalid && control[markedAs])"},styles:[":host{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:8px 0 0}:host>label{-webkit-box-flex:1;flex:1;font-size:smaller}:host>ion-icon{margin-top:0!important;margin-right:8px;min-height:initial;width:16px}",":host{color:var(--ion-color-danger);display:none}:host.ionx--visible{display:-webkit-box;display:flex}"]})],e)}(),y=function(){function e(){}return Object.defineProperty(e.prototype,"label",{set:function(e){this.labelComponentContainer.clear(),this.labelComponentContainer.insert(e.hostView)},enumerable:!0,configurable:!0}),c([n.Input()],e.prototype,"icon",void 0),c([n.ViewChild("labelComponentContainer",{read:n.ViewContainerRef,static:!0})],e.prototype,"labelComponentContainer",void 0),c([n.Input()],e.prototype,"label",null),e=c([n.Component({selector:"ionx-form-item-hint",template:'\n        <ion-icon [name]="icon" *ngIf="icon"></ion-icon>\n        <label>\n            <template #labelComponentContainer></template>\n            <ng-content></ng-content>\n        </label>\n    ',styles:[":host{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:8px 0 0}:host>label{-webkit-box-flex:1;flex:1;font-size:smaller}:host>ion-icon{margin-top:0!important;margin-right:8px;min-height:initial;width:16px}",":host{color:var(--ion-color-medium)}"]})],e)}(),g=function(){function e(){}return e=c([n.NgModule({declarations:[f,m,d,y,u],imports:[t.CommonModule,o.FormsModule,l.IonicModule,i.IntlModule,r.MatchMediaModule],exports:[f,d,y,m,u]})],e)}();e.FormHeading=m,e.FormHelper=u,e.FormHelperModule=g,e.FormItem=f,e.FormItemError=d,e.FormItemHint=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=form-helper-module.umd.min.js.map