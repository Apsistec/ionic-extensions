!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("@co.mmons/angular-intl"),require("@ionic/angular")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions/tags-input",["exports","@angular/common","@angular/core","@angular/forms","@co.mmons/angular-intl","@ionic/angular"],e):e(((t=t||self).co=t.co||{},t.co.mmons=t.co.mmons||{},t.co.mmons["ionic-extensions"]=t.co.mmons["ionic-extensions"]||{},t.co.mmons["ionic-extensions"]["tags-input"]={}),t.ng.common,t.ng.core,t.ng.forms,t.angularIntl,t.angular)}(this,(function(t,e,o,i,n,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function r(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r}var a={provide:i.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return p})),multi:!0},p=function(){function t(t,e){this.plt=t,this.ref=e,this.readonly=!1,this.hideRemove=!1,this.maxTags=-1,this.placeholder="+Tag",this.type="text",this.separatorStr=",",this.canEnterAdd=!0,this.canBackspaceRemove=!1,this._once=!1,this.change=new o.EventEmitter,this.ionFocus=new o.EventEmitter,this.ionBlur=new o.EventEmitter,this._editTag="",this._tags=[],this._isFocus=!1}return Object.defineProperty(t.prototype,"once",{get:function(){return this._once},set:function(t){this._once="string"==typeof t||t},enumerable:!0,configurable:!0}),t.prototype.keyAddTag=function(){var t=this._editTag.trim();this.canEnterAdd&&this.verifyTag(t)&&(!this.once||this.isOnce(t)?this.pushTag(t):this._editTag="")},t.prototype.separatorStrAddTag=function(){if(this.separatorStr&&this._editTag.indexOf(this.separatorStr)>-1)for(var t=this._editTag.split(this.separatorStr),e=0;e<t.length;e++){var o=t[e].trim();e<t.length-1?this.verifyTag(o)&&this.isOnce(o)&&this.pushTag(o):this._editTag=o}},t.prototype.keyRemoveTag=function(t){this.canBackspaceRemove&&""===this._editTag&&(this.removeTag(-1),this._editTag="")},t.prototype.btnRemoveTag=function(t){this.removeTag(t),this.input.setFocus()},t.prototype.verifyTag=function(t){return"function"==typeof this.verifyFn?!!this.verifyFn(t)||(this._editTag="",!1):!!t.trim()||(this._editTag="",!1)},t.prototype.pushTag=function(t){this._tags||(this._tags=[]),this._tags.indexOf(t)>-1||(-1!==this.maxTags&&this._tags.length>=this.maxTags?this._editTag="":(this._tags.push(t.trim()),this.sortTags(),this.ref.detectChanges(),this.change.emit(this._tags.slice()),this._editTag="",this._onChanged&&this._onChanged(this._tags.slice())))},t.prototype.sortTags=function(){var t=this;this.sortable&&this._tags&&(this.sortFn?this._tags.sort((function(e,o){return t.sortFn(e,o)})):this._tags.sort((function(t,e){return t.localeCompare(e)})))},t.prototype.removeTag=function(t){this._tags&&this._tags.length>0&&(-1===t?(this._tags.pop(),this.change.emit(this._tags)):t>-1&&(this._tags.splice(t,1),this.change.emit(this._tags)),this._onChanged&&this._onChanged(this._tags.slice()))},t.prototype.isOnce=function(t){var e=this._tags;return!e||e.every((function(e){return e!==t}))},t.prototype._click=function(t){this._isFocus,this.focus(),t.preventDefault(),t.stopPropagation()},t.prototype.blur=function(){this._editTag&&this.pushTag(this._editTag),this._isFocus&&(this._isFocus=!1,this.ionBlur.emit(this._tags))},t.prototype.focus=function(){this._isFocus||(this._isFocus=!0,this.input&&this.input.setFocus(),this.ionFocus.emit(this._tags))},t.prototype.writeValue=function(t){this._tags=t},t.prototype.registerOnChange=function(t){this._onChanged=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.setValue=function(t){this._tags=t,this.sortTags()},t.ctorParameters=function(){return[{type:s.Platform},{type:o.ChangeDetectorRef}]},r([o.HostBinding("class.readonly"),o.Input()],t.prototype,"readonly",void 0),r([o.Input()],t.prototype,"hideRemove",void 0),r([o.Input()],t.prototype,"maxTags",void 0),r([o.Input()],t.prototype,"placeholder",void 0),r([o.Input()],t.prototype,"type",void 0),r([o.Input()],t.prototype,"separatorStr",void 0),r([o.Input()],t.prototype,"canEnterAdd",void 0),r([o.Input()],t.prototype,"canBackspaceRemove",void 0),r([o.Input()],t.prototype,"verifyFn",void 0),r([o.Input()],t.prototype,"sortFn",void 0),r([o.Input()],t.prototype,"sortable",void 0),r([o.Input()],t.prototype,"once",null),r([o.Output()],t.prototype,"change",void 0),r([o.Output()],t.prototype,"ionFocus",void 0),r([o.Output()],t.prototype,"ionBlur",void 0),r([o.ViewChild(s.IonInput,{static:!1})],t.prototype,"input",void 0),r([o.HostListener("click",["$event"])],t.prototype,"_click",null),t=r([o.Component({selector:"ionx-tags-input",providers:[a],template:'<div class="ionx-tags-input-wrapper">\n    <ion-chip *ngFor="let tag of _tags; let $index = index;" outline="true" [class.ion-activatable]="false">\n        <div>{{tag}}</div>\n        <ion-icon name="close" *ngIf="!hideRemove && !readonly" (click)="btnRemoveTag($index)" [class.ion-activatable]="!readonly"></ion-icon>\n    </ion-chip>\n</div>\n\n<ion-input *ngIf="!readonly"\n           [disabled]="readonly"\n           class="ionx-tags-input-input"\n           [type]="type"\n           [placeholder]="placeholder"\n           [(ngModel)]="_editTag"\n           (ionBlur)="blur()"\n           (keyup.backspace)="keyRemoveTag($event); false"\n           (keyup)="separatorStrAddTag()" (keyup.enter)="keyAddTag()"></ion-input>\n',styles:[":host{display:block}:host ion-chip{margin-left:0}:host-context(.item-label-stacked){width:100%}"]})],t)}(),c=function(){function t(){}return t=r([o.NgModule({declarations:[p],exports:[p],imports:[e.CommonModule,s.IonicModule,n.IntlModule,i.FormsModule,i.ReactiveFormsModule],entryComponents:[p]})],t)}();t.TagsInput=p,t.TagsInputModule=c,t.Éµa=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tags-input-module.umd.min.js.map