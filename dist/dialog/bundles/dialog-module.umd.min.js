!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@co.mmons/angular-intl"),require("@co.mmons/ionic-extensions/buttons"),require("@ionic/angular"),require("@angular/platform-browser"),require("@ionic/core/")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions/dialog",["exports","@angular/common","@angular/core","@co.mmons/angular-intl","@co.mmons/ionic-extensions/buttons","@ionic/angular","@angular/platform-browser","@ionic/core/"],e):e(((o=o||self).co=o.co||{},o.co.mmons=o.co.mmons||{},o.co.mmons["ionic-extensions"]=o.co.mmons["ionic-extensions"]||{},o.co.mmons["ionic-extensions"].dialog={}),o.ng.common,o.ng.core,o.angularIntl,o.buttons,o.angular,o.ng.platformBrowser,o._)}(this,(function(o,e,t,n,i,r,a,l){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(o,e,t,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,t,n);else for(var l=o.length-1;l>=0;l--)(i=o[l])&&(a=(r<3?i(a):r>3?i(e,t,a):i(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function c(o,e){var t,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(o,a)}catch(o){r=[6,o],n=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}function d(o){var e="function"==typeof Symbol&&o[Symbol.iterator],t=0;return e?e.call(o):{next:function(){return o&&t>=o.length&&(o=void 0),{value:o&&o[t++],done:!o}}}}var u=function(){function o(o,e,n){this.elementRef=o,this.resolver=e,this.injector=n,this.didLoad=new t.EventEmitter}return Object.defineProperty(o.prototype,"component",{set:function(o){var e,t;if(o){this.componentContainer.clear();var n=void 0,i=void 0;Array.isArray(o)?(n=o.length>=1?o[0]:void 0,i=o.length>=2?o[1]:void 0):n=o;var r=this.resolver.resolveComponentFactory(n).create(this.injector);if(i)try{for(var a=d(Object.keys(i)),l=a.next();!l.done;l=a.next()){var s=l.value;r.instance[s]=i[s]}}catch(o){e={error:o}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.componentRef=r,this.componentContainer.insert(this.componentRef.hostView)}},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){var o=this.elementRef.nativeElement.closest("ion-modal");o.style.setProperty("--width",this.width||"300px"),o.style.setProperty("--height","auto"),o.style.setProperty("--max-width","90%"),o.style.setProperty("--max-height","90%"),document.querySelector("html.ios")?o.style.setProperty("--border-radius","10px"):(o.style.setProperty("--border-radius","4px"),o.style.setProperty("--box-shadow","0 28px 48px rgba(0,0,0,0.4)"))},o.prototype.ngOnDestroy=function(){this.componentRef&&this.componentRef.destroy(),this.value=void 0},o.prototype.ionViewDidEnter=function(){var o,e,t=this.elementRef.nativeElement.querySelector("input");t&&t.focus(),"function"==typeof(null===(e=null===(o=this.componentRef)||void 0===o?void 0:o.instance)||void 0===e?void 0:e.ionViewDidEnter)&&this.componentRef.instance.ionViewDidEnter()},o.prototype.ionViewDidLeave=function(){var o,e;"function"==typeof(null===(e=null===(o=this.componentRef)||void 0===o?void 0:o.instance)||void 0===e?void 0:e.ionViewDidLeave)&&this.componentRef.instance.ionViewDidLeave()},o.prototype.ionViewWillEnter=function(){var o,e;"function"==typeof(null===(e=null===(o=this.componentRef)||void 0===o?void 0:o.instance)||void 0===e?void 0:e.ionViewWillEnter)&&this.componentRef.instance.ionViewWillEnter()},o.prototype.ionViewWillLeave=function(){var o,e;"function"==typeof(null===(e=null===(o=this.componentRef)||void 0===o?void 0:o.instance)||void 0===e?void 0:e.ionViewWillLeave)&&this.componentRef.instance.ionViewWillLeave()},o.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ComponentFactoryResolver},{type:t.Injector}]},s([t.Input()],o.prototype,"message",void 0),s([t.Input()],o.prototype,"header",void 0),s([t.Input()],o.prototype,"buttons",void 0),s([t.Input()],o.prototype,"width",void 0),s([t.ViewChild("componentContainer",{read:t.ViewContainerRef,static:!0})],o.prototype,"componentContainer",void 0),s([t.Input()],o.prototype,"component",null),o=s([t.Component({selector:"ionx-dialog",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'<ng-container *ngIf="!componentRef">\n\n    <ionx-dialog-content [header]="header" [message]="message"></ionx-dialog-content>\n\n    <ionx-dialog-buttons [buttons]="buttons"></ionx-dialog-buttons>\n\n</ng-container>\n\n<ng-template #componentContainer></ng-template>\n',styles:[":host{--dialog--background-color:var(--background-color, var(--ion-background-color, #ffffff));--dialog--foreground-color:var(--foreground-color, var(--ion-text-color));--dialog--border-color:var(--border-color, var(--ion-border-color));display:-webkit-box;display:flex;contain:content;position:relative;color:var(--dialog--foreground-color)}:host-context(.md){--dialog--message-font-size:16px;--dialog--header-font-size:20px;--dialog--text-align:left}:host-context(.ios){--dialog--message-font-size:15px;--dialog--header-font-size:18px;--dialog--text-align:left;--dialog--buttons-align:center;--dialog--header-font-weight:500}"]})],o)}(),p=function(){function o(o,e){this.injector=o,this.modalController=e}return o.prototype.buttonClicked=function(o){var e=this.injector.get(u),t=e&&e.value&&e.value();if(o.handler){var n=o.handler(t);("boolean"==typeof n&&n||"boolean"!=typeof n)&&this.modalController.dismiss(t,o.role)}else this.modalController.dismiss("cancel"!==o.role?t:void 0,o.role)},o.ctorParameters=function(){return[{type:t.Injector},{type:r.ModalController}]},s([t.Input()],o.prototype,"buttons",void 0),o=s([t.Component({selector:"ionx-dialog-buttons",template:'<ion-footer *ngIf="buttons && buttons.length > 0">\n    <ion-toolbar>\n        <ionx-buttons>\n\n            <ion-button fill="clear" [style.flex]="button.flex || 1" [color]="button.color || \'primary\'" [size]="button.size" (click)="buttonClicked(button)" *ngFor="let button of buttons">\n                <span *ngIf="!!button.text">{{button.text}}</span>\n                <ion-icon [icon]="button.icon" [slot]="button.text ? \'start\' : \'icon-only\'" *ngIf="button.icon"></ion-icon>\n            </ion-button>\n\n        </ionx-buttons>\n    </ion-toolbar>\n</ion-footer>\n',styles:[":host{display:block}:host ion-footer{--border-color:var(--dialog--border-color)}:host ion-footer ion-toolbar{--padding-start:0px;--padding-end:0px;--padding-top:0px;--padding-bottom:0px;--min-height:none;--ion-safe-area-bottom:0px;--ion-safe-area-top:0px;--ion-safe-area-start:0px;--ion-safe-area-end:0px;--ion-toolbar-background:var(--dialog--background-color, #ffffff);--ion-toolbar-background-color:var(--dialog--background-color, #000000);--ion-toolbar-color:var(--dialog--foreground-color, #000000)}:host ion-footer ionx-buttons{-webkit-box-pack:var(--dialog--buttons-align,flex-end);justify-content:var(--dialog--buttons-align,flex-end)}:host ion-footer ion-button{min-height:44px}:host ion-footer ion-button:not(:last-child){font-weight:400}:host ion-footer ion-button:last-child{font-weight:500}:host-context(.md) ion-footer ion-toolbar{--padding-bottom:8px}:host-context(.md) ion-footer::before{display:none}:host-context(.md) ion-footer ion-button{-webkit-box-flex:0!important;flex:none!important}:host-context(.ios) ion-footer ion-button{-webkit-box-flex:1;flex:1}:host-context(.ios) ion-footer ion-button:not(:first-child){border-left:.55px solid var(--dialog--border-color)}"]})],o)}(),f=function(){function o(o,e,t){this.sanitizer=o,this.resolver=e,this.injector=t}return Object.defineProperty(o.prototype,"message",{set:function(o){var e,t;if("string"==typeof o)this.messageText=this.sanitizer.bypassSecurityTrustHtml(o),this.messageComponent&&this.messageComponent.destroy(),this.messageComponent=void 0;else if(o){this.messageText=void 0,this.messageComponentContainer.clear();var n=void 0,i=void 0;Array.isArray(o)?(n=o.length>=1?o[0]:void 0,i=o.length>=2?o[1]:void 0):n=o;var r=this.resolver.resolveComponentFactory(n).create(this.injector);if(i)try{for(var a=d(Object.keys(i)),l=a.next();!l.done;l=a.next()){var s=l.value;r.instance[s]=i[s]}}catch(o){e={error:o}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.messageComponent=r,this.messageComponentContainer.insert(this.messageComponent.hostView)}},enumerable:!0,configurable:!0}),o.prototype.ngOnDestroy=function(){this.messageComponent&&this.messageComponent.destroy()},o.ctorParameters=function(){return[{type:a.DomSanitizer},{type:t.ComponentFactoryResolver},{type:t.Injector}]},s([t.Input()],o.prototype,"header",void 0),s([t.ViewChild("messageComponentContainer",{read:t.ViewContainerRef,static:!0})],o.prototype,"messageComponentContainer",void 0),s([t.Input()],o.prototype,"message",null),o=s([t.Component({selector:"ionx-dialog-content",template:'<div ionx--header *ngIf="!!header">{{header}}</div>\n\n<div ionx--message>\n\n    <div [innerHTML]="messageText" *ngIf="!!messageText"></div>\n\n    <ng-template #messageComponentContainer></ng-template>\n\n    <ng-content content="[ionx-dialog-message]"></ng-content>\n\n</div>\n',styles:[":host{background:var(--dialog--background-color,#fff);color:var(--dialog--foreground-color);display:block}:host [ionx--message]{font-size:var(--dialog--message-font-size);text-align:var(--dialog--text-align);margin:16px 16px 24px}:host [ionx--header]{font-size:var(--dialog--header-font-size);font-weight:var(--dialog--header-font-weight,500);margin:16px;text-align:var(--dialog--text-align)}"]})],o)}();function m(o){var e=l.createAnimation(),t=l.createAnimation(),n=l.createAnimation(),i=o.querySelector(".modal-wrapper");return t.addElement(o.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(i).keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]),e.addElement(o).easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([t,n])}var g=function(){function o(o){this.modalController=o}return o.prototype.create=function(o){return e=this,t=void 0,i=function(){return c(this,(function(e){return[2,this.modalController.create(Object.assign({},o,{component:u,componentProps:{component:o.component,header:o.header,message:o.message,buttons:o.buttons,width:o.width},leaveAnimation:m}))]}))},new((n=void 0)||(n=Promise))((function(o,r){function a(o){try{s(i.next(o))}catch(o){r(o)}}function l(o){try{s(i.throw(o))}catch(o){r(o)}}function s(e){e.done?o(e.value):new n((function(o){o(e.value)})).then(a,l)}s((i=i.apply(e,t||[])).next())}));var e,t,n,i},o.prototype.dismiss=function(o,e,t){return this.modalController.dismiss(o,e,t)},o.ctorParameters=function(){return[{type:r.ModalController}]},o=s([t.Injectable()],o)}(),h=function(){function o(){}return o=s([t.NgModule({declarations:[u,f,p],imports:[n.IntlModule,r.IonicModule,e.CommonModule,i.ButtonsModule],exports:[f,p],entryComponents:[u],providers:[g]})],o)}();o.Dialog=u,o.DialogButtons=p,o.DialogContent=f,o.DialogController=g,o.DialogModule=h,Object.defineProperty(o,"__esModule",{value:!0})}));
//# sourceMappingURL=dialog-module.umd.min.js.map