!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@co.mmons/angular-intl"),require("@ionic/angular"),require("@co.mmons/ionic-extensions/buttons"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions/dialog",["exports","@angular/common","@angular/core","@co.mmons/angular-intl","@ionic/angular","@co.mmons/ionic-extensions/buttons","@angular/platform-browser"],t):t(((e=e||self).co=e.co||{},e.co.mmons=e.co.mmons||{},e.co.mmons["ionic-extensions"]=e.co.mmons["ionic-extensions"]||{},e.co.mmons["ionic-extensions"].dialog={}),e.ng.common,e.ng.core,e.angularIntl,e.angular,e.buttons,e.ng.platformBrowser)}(this,(function(e,t,o,n,i,r,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function l(e,t){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function c(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}var u=Symbol(),f=Symbol(),p=function(){function e(e,t,n,i,r,s){this.injector=e,this.sanitizer=t,this.elementRef=n,this.modalController=i,this.resolver=r,this.changeDetectorRef=s,this.didLoad=new o.EventEmitter}return Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},set:function(e){this._buttons=e,this.changeDetectorRef.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{set:function(e){var t,n;if("string"==typeof e)this.messageText=this.sanitizer.bypassSecurityTrustHtml(e),this.messageComponent&&this.messageComponent.destroy(),this.messageComponent=void 0;else if(e){if(this.messageText=void 0,this.messageComponentContainer.clear(),!(e instanceof o.ComponentRef)){var i=void 0,r=void 0;if(Array.isArray(e)?(i=e.length>=1?e[0]:void 0,r=e.length>=2?e[1]:void 0):i=e,e=this.resolver.resolveComponentFactory(i).create(this.injector),r)try{for(var s=c(Object.keys(r)),a=s.next();!a.done;a=s.next()){var l=a.value;e.instance[l]=r[l]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}this.messageComponent=e,this.messageComponent.instance[f]=this,this.messageComponentContainer.insert(this.messageComponent.hostView)}},enumerable:!0,configurable:!0}),e.prototype.buttonClicked=function(e){var t=this.messageComponent&&this.messageComponent.instance[u]?this.messageComponent.instance[u]():void 0;if(e.handler){var o=e.handler(t);("boolean"==typeof o&&o||"boolean"!=typeof o)&&this.modalController.dismiss(t,e.role)}else this.modalController.dismiss("cancel"!==e.role?t:void 0,e.role)},e.prototype.ngOnDestroy=function(){this.messageComponent&&(this.messageComponent.instance[f]=void 0,this.messageComponent.destroy())},e.prototype.ngOnInit=function(){var e=this.elementRef.nativeElement.closest("ion-modal");e.style.setProperty("--width","300px"),e.style.setProperty("--height","auto"),e.style.setProperty("--max-width","90%"),e.style.setProperty("--max-height","90%"),document.querySelector("html.ios")?e.style.setProperty("--border-radius","10px"):(e.style.setProperty("--border-radius","4px"),e.style.setProperty("--box-shadow","0 28px 48px rgba(0,0,0,0.4)"))},e.prototype.ionViewDidEnter=function(){var e=this.elementRef.nativeElement.querySelector("input");e&&e.focus()},e.ctorParameters=function(){return[{type:o.Injector},{type:s.DomSanitizer},{type:o.ElementRef},{type:i.ModalController},{type:o.ComponentFactoryResolver},{type:o.ChangeDetectorRef}]},a([o.ViewChild("messageComponentContainer",{read:o.ViewContainerRef,static:!0})],e.prototype,"messageComponentContainer",void 0),a([o.Input()],e.prototype,"header",void 0),a([o.Input()],e.prototype,"buttons",null),a([o.Input()],e.prototype,"message",null),e=a([o.Component({selector:"ionx-dialog",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'<div ionx--content>\n\n    <div ionx--header *ngIf="!!header">{{header}}</div>\n\n    <div ionx--message>\n\n        <div [innerHTML]="messageText" *ngIf="!!messageText"></div>\n\n        <ng-template #messageComponentContainer></ng-template>\n\n    </div>\n\n</div>\n\n<ion-footer *ngIf="_buttons && _buttons.length > 0">\n    <ion-toolbar>\n        <ionx-buttons>\n\n            <ion-button fill="clear" [color]="button.color || \'primary\'" [size]="button.size" (click)="buttonClicked(button)" *ngFor="let button of _buttons">\n                <span>{{button.text}}</span>\n            </ion-button>\n\n        </ionx-buttons>\n    </ion-toolbar>\n</ion-footer>\n',styles:[":host-context(.md){--ionx--message-font-size:16px;--ionx--header-font-size:20px;--ionx--text-align:left}:host-context(.ios){--ionx--message-font-size:15px;--ionx--header-font-size:18px;--ionx--text-align:center;--ionx--buttons-align:center;--ionx--header-font-weight:600}:host{display:-webkit-box;display:flex;contain:content;position:relative}:host [ionx--message]{font-size:var(--ionx--message-font-size);text-align:var(--ionx--text-align);margin:16px 16px 24px}:host [ionx--header]{font-size:var(--ionx--header-font-size);font-weight:var(--ionx--header-font-weight,500);margin:16px;text-align:var(--ionx--text-align)}:host ion-footer ion-toolbar{--padding-start:0px;--padding-end:0px;--padding-top:0px;--padding-bottom:0px;--min-height:none;--ion-safe-area-bottom:0px;--ion-safe-area-top:0px;--ion-safe-area-start:0px;--ion-safe-area-end:0px;--ion-toolbar-background:#ffffff;--ion-toolbar-background-color:#ffffff}:host ion-footer ionx-buttons{-webkit-box-pack:var(--ionx--buttons-align,flex-end);justify-content:var(--ionx--buttons-align,flex-end)}:host ion-footer ion-button{min-height:44px}:host ion-footer ion-button:not(:last-child){font-weight:400}:host ion-footer ion-button:last-child{font-weight:600}:host-context(.md) ion-footer ion-toolbar{--padding-bottom:8px}:host-context(.md) ion-footer::before{display:none}:host-context(.ios) ion-footer ion-button{-webkit-box-flex:1;flex:1}:host-context(.ios) ion-footer ion-button:not(:first-child){border-left:.55px solid var(--ion-toolbar-border-color,var(--ion-border-color,var(--ion-color-step-150,rgba(0,0,0,.2))))}"]})],e)}(),m=function(){function e(e){this.modalController=e}return e.prototype.create=function(e){return t=this,o=void 0,i=function(){return l(this,(function(t){return[2,this.modalController.create(Object.assign({},e,{component:p,componentProps:{header:e.header,message:e.message,buttons:e.buttons}}))]}))},new((n=void 0)||(n=Promise))((function(e,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){t.done?e(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,o||[])).next())}));var t,o,n,i},e.prototype.dismiss=function(e,t,o){return this.modalController.dismiss(e,t,o)},e.ctorParameters=function(){return[{type:i.ModalController}]},e=a([o.Injectable()],e)}(),d=function(){function e(){}return e=a([o.NgModule({declarations:[p],imports:[n.IntlModule,i.IonicModule,t.CommonModule,r.ButtonsModule],entryComponents:[p],providers:[m]})],e)}();e.Dialog=p,e.DialogController=m,e.DialogModule=d,e.dialogData=u,e.dialogInstance=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dialog-module.umd.min.js.map