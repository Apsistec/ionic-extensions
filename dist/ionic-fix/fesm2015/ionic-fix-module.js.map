{"version":3,"file":"ionic-fix-module.js","sources":["ng://@co.mmons/ionic-extensions/ionic-fix/back-button-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/input-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/item-target.ts","ng://@co.mmons/ionic-extensions/ionic-fix/index.ts","ng://@co.mmons/ionic-extensions/ionic-fix/ionic-fix-module.ts"],"sourcesContent":["import {Directive, ElementRef, HostListener, Input, Optional} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {IonRouterOutlet, NavController, IonBackButtonDelegate} from \"@ionic/angular\";\n\nIonBackButtonDelegate.prototype.onClick = () => null;\n\n@Directive({\n    selector: \"ion-back-button\"\n})\nexport class IonicBackButtonFix {\n\n    constructor(private router: Router, @Optional() private routerOutlet: IonRouterOutlet, private navCtrl: NavController, private elementRef: ElementRef) {\n    }\n\n    @Input()\n    set defaultHref(value: string) {\n        this.elementRef.nativeElement.defaultHref = value;\n    }\n    get defaultHref() {\n        return this.elementRef.nativeElement.defaultHref;\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    onClick(ev: Event) {\n\n        if (this.routerOutlet && this.routerOutlet.canGoBack()) {\n            this.navCtrl.back({animated: true});\n            ev.preventDefault();\n            \n        } else if (this.router && this.defaultHref != null) {\n            this.navCtrl.navigateBack(this.defaultHref);\n            ev.preventDefault();\n        }\n    }\n}\n","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-input[ionfix-input]\"\n})\nexport class IonicInputFix {\n\n    constructor(private element: ElementRef<HTMLIonInputElement>) {\n    }\n\n    @Input(\"tabIndex\")\n    tabIndex: string;\n\n    async ngAfterViewInit() {\n\n        if (this.tabIndex) {\n            this.element.nativeElement.removeAttribute(\"tabIndex\");\n\n            await waitTill(() => !!this.element.nativeElement.shadowRoot && !!this.element.nativeElement.shadowRoot.querySelector(\".native-input\"));\n\n            let realInput = this.element.nativeElement.shadowRoot.querySelector(\".native-input\");\n            realInput.setAttribute(\"tabIndex\", this.tabIndex);\n        }\n    }\n}","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {sleep} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-item[target]\"\n})\nexport class IonicItemTargetFix {\n\n    constructor(private element: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    target: string;\n\n    async ngAfterViewInit() {\n\n        if (this.target) {\n\n            for (let i = 1; i < 20; i++) {\n\n                const a = (this.element.nativeElement.shadowRoot && this.element.nativeElement.shadowRoot.querySelector(\".item-native\")) || undefined;\n\n                if (!a) {\n                    await sleep(i * 100);\n                } else {\n                    a.setAttribute(\"target\", this.target);\n                }\n            }\n        }\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicBackButtonFix} from \"./back-button-fix\";\nimport {IonicInputFix} from \"./input-fix\";\nimport {IonicItemTargetFix} from \"./item-target\";\n\n@NgModule({\n    declarations: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix],\n    exports: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix]\n})\nexport class IonicFixModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {IonicBackButtonFix as Éµb} from './back-button-fix';\nexport {IonicInputFix as Éµa} from './input-fix';\nexport {IonicItemTargetFix as Éµc} from './item-target';"],"names":[],"mappings":"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"}