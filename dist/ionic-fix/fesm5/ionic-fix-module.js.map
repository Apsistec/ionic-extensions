{"version":3,"file":"ionic-fix-module.js","sources":["ng://@co.mmons/ionic-extensions/ionic-fix/back-button-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/input-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/item-target.ts","ng://@co.mmons/ionic-extensions/ionic-fix/index.ts","ng://@co.mmons/ionic-extensions/ionic-fix/ionic-fix-module.ts"],"sourcesContent":["import {Directive, ElementRef, HostListener, Input, Optional} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {IonRouterOutlet, NavController, IonBackButtonDelegate} from \"@ionic/angular\";\n\nIonBackButtonDelegate.prototype.onClick = () => null;\n\n@Directive({\n    selector: \"ion-back-button\"\n})\nexport class IonicBackButtonFix {\n\n    constructor(private router: Router, @Optional() private routerOutlet: IonRouterOutlet, private navCtrl: NavController, private elementRef: ElementRef) {\n    }\n\n    @Input()\n    set defaultHref(value: string) {\n        this.elementRef.nativeElement.defaultHref = value;\n    }\n    get defaultHref() {\n        return this.elementRef.nativeElement.defaultHref;\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    onClick(ev: Event) {\n\n        if (this.routerOutlet && this.routerOutlet.canGoBack()) {\n            this.navCtrl.back({animated: true});\n            ev.preventDefault();\n            \n        } else if (this.router && this.defaultHref != null) {\n            this.navCtrl.navigateBack(this.defaultHref);\n            ev.preventDefault();\n        }\n    }\n}\n","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-input[ionfix-input]\"\n})\nexport class IonicInputFix {\n\n    constructor(private element: ElementRef<HTMLIonInputElement>) {\n    }\n\n    @Input(\"tabIndex\")\n    tabIndex: string;\n\n    async ngAfterViewInit() {\n\n        if (this.tabIndex) {\n            this.element.nativeElement.removeAttribute(\"tabIndex\");\n\n            await waitTill(() => !!this.element.nativeElement.shadowRoot && !!this.element.nativeElement.shadowRoot.querySelector(\".native-input\"));\n\n            let realInput = this.element.nativeElement.shadowRoot.querySelector(\".native-input\");\n            realInput.setAttribute(\"tabIndex\", this.tabIndex);\n        }\n    }\n}","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {sleep} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-item[target]\"\n})\nexport class IonicItemTargetFix {\n\n    constructor(private element: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    target: string;\n\n    async ngAfterViewInit() {\n\n        if (this.target) {\n\n            for (let i = 1; i < 20; i++) {\n\n                const a = (this.element.nativeElement.shadowRoot && this.element.nativeElement.shadowRoot.querySelector(\".item-native\")) || undefined;\n\n                if (!a) {\n                    await sleep(i * 100);\n                } else {\n                    a.setAttribute(\"target\", this.target);\n                }\n            }\n        }\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicBackButtonFix} from \"./back-button-fix\";\nimport {IonicInputFix} from \"./input-fix\";\nimport {IonicItemTargetFix} from \"./item-target\";\n\n@NgModule({\n    declarations: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix],\n    exports: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix]\n})\nexport class IonicFixModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {IonicBackButtonFix as ɵb} from './back-button-fix';\nexport {IonicInputFix as ɵa} from './input-fix';\nexport {IonicItemTargetFix as ɵc} from './item-target';"],"names":[],"mappings":"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"}