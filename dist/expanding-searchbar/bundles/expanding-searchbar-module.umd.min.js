!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@ionic/angular"),require("@co.mmons/rxjs-utils")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions/expanding-searchbar",["exports","@angular/core","@ionic/angular","@co.mmons/rxjs-utils"],n):n(((e=e||self).co=e.co||{},e.co.mmons=e.co.mmons||{},e.co.mmons["ionic-extensions"]=e.co.mmons["ionic-extensions"]||{},e.co.mmons["ionic-extensions"]["expanding-searchbar"]={}),e.ng.core,e.angular,e.rxjsUtils)}(this,(function(e,n,a,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function t(e,n,a,i){var t,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,a,i);else for(var s=e.length-1;s>=0;s--)(t=e[s])&&(o=(r<3?t(o):r>3?t(n,a,o):t(n,a))||o);return r>3&&o&&Object.defineProperty(n,a,o),o}var r=function(){function e(){}return e=t([n.Component({template:"",styles:[":host{display:none}::ng-deep ion-searchbar.ionx-expanding-searchbar{position:absolute;top:0;left:0;width:0;overflow:hidden;padding:0;margin:0;display:none}::ng-deep ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{display:-webkit-box;display:flex;width:100%}::ng-deep ion-searchbar.ionx-expanding-searchbar:not(.searchbar-show-cancel) .searchbar-clear-button{display:block!important}::ng-deep ion-toolbar ion-searchbar.ionx-expanding-searchbar-expanded{padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end)}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar{height:100%}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{padding-left:16px;padding-right:16px}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded[ionx-flat]{padding-left:8px;padding-right:8px}::ng-deep .ios ion-searchbar.ionx-expanding-searchbar{height:36px}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar{height:100%}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{padding-left:16px;padding-right:16px}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded[ionx-flat]{padding-left:0;padding-right:0}::ng-deep .ionx-expanding-searchbar-parent>:not(.ionx-expanding-searchbar){visibility:hidden!important;-webkit-transition:none;transition:none}"]})],e)}(),o="ionx-expanding-searchbar-expanded",s=function(){function e(e,n,a,i,t){this.appRef=a,this.element=i,this.searchbar=t,this.subscriptions=[];var o=n.resolveComponentFactory(r).create(e);this.appRef.attachView(o.hostView)}return Object.defineProperty(e.prototype,"parentElement",{get:function(){var e=this.element.nativeElement.parentElement;if(e)return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this.element.nativeElement.classList.contains(o)},set:function(e){var n=this;this.parentElement,e?(this.element.nativeElement.classList.add(o),this.parentElement.classList.add("ionx-expanding-searchbar-parent"),this.searchbar.setFocus()):(this.element.nativeElement.classList.remove(o),this.parentElement.classList.remove("ionx-expanding-searchbar-parent"),setTimeout((function(){return n.element.nativeElement.querySelector(".searchbar-input").blur()}),50))},enumerable:!0,configurable:!0}),e.prototype.expand=function(){this.expanded=!0},e.prototype.collapseIfPossible=function(e){var n=this;!this.expanded||!e&&this.searchbar.value||setTimeout((function(){n.expanded=!1}),e?250:0)},e.prototype.ngOnInit=function(){var e=this;this.subscriptions.push(this.searchbar.ionClear.subscribe((function(){return e.collapseIfPossible(!0)}))),this.element.nativeElement.classList.add("ionx-expanding-searchbar")},e.prototype.ngOnDestroy=function(){i.unsubscribe(this.subscriptions)},e.ctorParameters=function(){return[{type:n.Injector},{type:n.ComponentFactoryResolver},{type:n.ApplicationRef},{type:n.ElementRef},{type:a.IonSearchbar}]},t([n.Input("ionx-expanded")],e.prototype,"expanded",null),e=t([n.Directive({selector:"ion-searchbar[ionx-expanding-searchbar]",exportAs:"ionxExpandingSearchbar"})],e)}(),p=function(){function e(){}return e=t([n.NgModule({declarations:[s,r],exports:[s],entryComponents:[r],imports:[a.IonicModule]})],e)}();e.ExpandingSearchbar=s,e.ExpandingSearchbarModule=p,e.Éµa=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=expanding-searchbar-module.umd.min.js.map