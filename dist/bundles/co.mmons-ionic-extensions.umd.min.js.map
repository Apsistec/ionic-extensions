{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://@co.mmons/ionic-extensions/datetime-picker/timezone-info.ts","ng://@co.mmons/ionic-extensions/buttons/buttons.ts","ng://@co.mmons/ionic-extensions/buttons/index.ts","ng://@co.mmons/ionic-extensions/select/select-label.ts","ng://@co.mmons/ionic-extensions/select/select-option.ts","ng://@co.mmons/ionic-extensions/select/select-options.ts","ng://@co.mmons/ionic-extensions/select/select-overlay.ts","ng://@co.mmons/ionic-extensions/select/select.ts","ng://@co.mmons/ionic-extensions/select/index.ts","ng://@co.mmons/ionic-extensions/datetime-picker/default-formats.ts","ng://@co.mmons/ionic-extensions/datetime-picker/timezones.ts","ng://@co.mmons/ionic-extensions/datetime-picker/overlay.ts","ng://@co.mmons/ionic-extensions/datetime-picker/input.ts","ng://@co.mmons/ionic-extensions/datetime-picker/index.ts","ng://@co.mmons/ionic-extensions/dialog/dialog-data-symbol.ts","ng://@co.mmons/ionic-extensions/dialog/dialog-instance-symbol.ts","ng://@co.mmons/ionic-extensions/dialog/dialog.ts","ng://@co.mmons/ionic-extensions/dialog/dialog-controller.ts","ng://@co.mmons/ionic-extensions/dialog/index.ts","ng://@co.mmons/ionic-extensions/expanding-searchbar/expanding-searchbar-styles.ts","ng://@co.mmons/ionic-extensions/expanding-searchbar/expanding-searchbar.ts","ng://@co.mmons/ionic-extensions/expanding-searchbar/index.ts","ng://@co.mmons/ionic-extensions/form-helper/heading.ts","ng://@co.mmons/ionic-extensions/scroll/scroll-into-view.ts","ng://@co.mmons/ionic-extensions/form-helper/helper.ts","ng://@co.mmons/ionic-extensions/form-helper/item.ts","ng://@co.mmons/ionic-extensions/form-helper/item-error.ts","ng://@co.mmons/ionic-extensions/form-helper/item-hint.ts","ng://@co.mmons/ionic-extensions/form-helper/index.ts","ng://@co.mmons/ionic-extensions/lazy-image/lazy-load.ts","ng://@co.mmons/ionic-extensions/image-loader/image-loader.ts","ng://@co.mmons/ionic-extensions/image-loader/index.ts","ng://@co.mmons/ionic-extensions/ionic-fix/back-button-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/input-fix.ts","ng://@co.mmons/ionic-extensions/ionic-fix/item-target.ts","ng://@co.mmons/ionic-extensions/ionic-fix/index.ts","ng://@co.mmons/ionic-extensions/lazy-image/lazy-image.ts","ng://@co.mmons/ionic-extensions/lazy-image/index.ts","ng://@co.mmons/ionic-extensions/loader/loader.ts","ng://@co.mmons/ionic-extensions/loader/loader-controller.ts","ng://@co.mmons/ionic-extensions/loader/index.ts","ng://@co.mmons/ionic-extensions/modal/modal-controller.ts","ng://@co.mmons/ionic-extensions/modal/index.ts","ng://@co.mmons/ionic-extensions/popover/popover-controller.ts","ng://@co.mmons/ionic-extensions/popover/index.ts","ng://@co.mmons/ionic-extensions/pseudo-input/pseudo-input.ts","ng://@co.mmons/ionic-extensions/pseudo-input/index.ts","ng://@co.mmons/ionic-extensions/spinner/spinner.ts","ng://@co.mmons/ionic-extensions/spinner/index.ts","ng://@co.mmons/ionic-extensions/textarea-autosize/textarea-autosize.ts","ng://@co.mmons/ionic-extensions/textarea-autosize/index.ts","ng://@co.mmons/ionic-extensions/toggle-labels/toggle-labels.ts","ng://@co.mmons/ionic-extensions/toggle-labels/index.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","push","__values","o","m","currentLocale","Buttons","Component","selector","template","ButtonsModule","NgModule","declarations","exports","SelectLabel","templateRef","viewContainer","separator","tslib_1.__decorate","Input","Directive","TemplateRef","ViewContainerRef","SelectOption","element","prototype","nativeElement","innerText","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","SelectOptions","_this","_super","__","constructor","create","tslib_1.__extends","pushOption","disabled","pushDivider","divider","SelectOverlayContent","intl","popoverController","modalController","multiple","whiteSpace","overlay","optionDivider","option","index","options","optionClicked","ev","checked","empty","checkedOptions","preventDefault","stopPropagation","stopImmediatePropagation","optionBeforeChange","lastClickedOption","checkedTimestamp","Date","now","optionChanged","valueValidator","values","_f","tslib_1.__values","_g","optionWasChecked","_h","_j","VALUES","_k","_l","_m","_o","valueComparator","_p","_q","splice","okClicked","undefined","buildVisibleOptions","hidden","ii","visibleOptions","_b","_c","initOptions","orderable","sort","a","modalOverlay","waitTill","scroll","_d","indexToScroll","scrollToIndex","_e","OPTIONS","updateValues","popoverOverlay","dismiss","cancelClicked","search","query","searchbar","toString","trim","toLowerCase","searchHandler","indexOf","ngOnInit","closest","classList","contains","itemHeight","resetScrollHeight","oldHeight","scrollHeight","newHeight","content","offsetHeight","_a","checkViewportSize","ionViewDidEnter","window","platformId","querySelector","setFocus","ViewChild","CdkVirtualScrollViewport","static","read","HostListener","tslib_1.__param","Optional","IntlService","PopoverController","ModalController","Select","control","overlayWhiteSpace","ionChange","EventEmitter","change","compareAsString","comparator","valueAccessor","_listItem","_readonly","readonly","_disabled","alwaysArray","slice","changed","newValue","isArray","checkListItemHasValue","value_1","fireOnChange","controlOnChange","emit","labelImpl$","cachedLabels","optionsComponents","toArray","writeValue","hasValue","listItem","add","remove","val","indexOfValue","registerOnChange","fn","registerOnTouched","controlOnTouched","setDisabledState","isDisabled","open","event","valueIndex","searchTest","labelTemplate","title","overlayTitle","placeholder","overlayData","checkValidator","width","getBoundingClientRect","component","componentProps","cssClass","present","updateCssClasses","ngOnChanges","changes","Output","ContentChild","ContentChildren","QueryList","host","[attr.ionx--chips-layout]","[attr.ionx--readonly]","[attr.ionx--orderable]","NgControl","SelectModule","entryComponents","imports","CommonModule","FormsModule","IonicModule","IntlModule","ScrollingModule","defaultDateTimeFormat","year","month","day","hour","minute","timezoneInfo","tz","date","format1","hour12","timeZone","format2","timeZoneName","Intl","DateTimeFormat","resolvedOptions","locale","format","replace","id","error","Error","rawTimezones","weekdayNarrowFormat","weekday","monthYearFormat","monthFormat","DateTimePickerOverlay","viewController","changeDetector","dateView","dateViews","message","dateViewChanged","dateViewValue","generateDateValues","generateDateHeader","dateViewMove","setUTCMonth","getUTCMonth","setUTCFullYear","getUTCFullYear","yearHundret","Math","floor","yearTens","yearStart","dateValueClicked","tmpDate","setUTCDate","getUTCDate","dateValues","setUTCHours","sublabel","dateFormat","tmpDate_1","UTC","tmpDate_2","dateHeader","formatOptions","formatTime","getUTCHours","hours","h","parseInt","isNaN","timeHours","detectChanges","getUTCMinutes","minutes","timeMinutes","setUTCMinutes","todayClicked","doneClicked","timezone","getTime","DateTimezone","timezoneOffset","loadTimezones","timezones","unsorted","rawTimezones_1","rawTimezones_1_1","localeCompare","timezoneDisabled","info","ChangeDetectorRef","DateTimePickerInput","currentTimezone","_text","_displayFormat","findFormatterPredefinedOptions","_pickerFormat","_value","DateTimePickerInput_1","updateText","muteControlOnChange","clearValue","assign","displayFormat","dateTimeFormat","clicked","detail","keyuped","opened","pickerFormat","defaultTimezone","backdropDismiss","showBackdrop","overlayClosed","onDidDismiss","data","nativeInput","focus","nativeInputFocused","nativeInputBlured","setupCss","ngAfterContentChecked","HostBinding","UIEvent","DateTimePickerModule","dialogData","dialogInstance","Dialog","injector","sanitizer","elementRef","resolver","changeDetectorRef","didLoad","_buttons","buttons","messageText","bypassSecurityTrustHtml","messageComponent","destroy","messageComponentContainer","clear","ComponentRef","type","params","resolveComponentFactory","keys","param","instance","insert","hostView","buttonClicked","button","handler","res","role","ngOnDestroy","modal","style","setProperty","document","input","Injector","DomSanitizer","ComponentFactoryResolver","DialogController","header","Injectable","DialogModule","providers","ExpandingSearchbarStyles","expandedCssClass","stylesInjected","ExpandingSearchbar","appRef","subscriptions","styles","attachView","parent","parentElement","expanded","setTimeout","blur","expand","collapseIfPossible","cleared","ionClear","subscribe","unsubscribe","exportAs","ApplicationRef","IonSearchbar","ExpandingSearchbarModule","FormHeading","scrollIntoView","scrollBehavior","findParentImpl","clientHeight","overflowY","getComputedStyle","assignedSlot","top_1","offsetTop","offsetParent","scrollTo","top","behavior","FormHelper","ngForm","formGroupDirective","hasAttribute","setAttribute","removeAttribute","markAsReadonly","busy","markAsBusy","formControlName","name","contentControls","form","validateAll","markAs","controlName","formGroup","controls","markAsTouched","markAsDirty","updateValueAndValidity","valid","focusImpl","directives","FormControlName","focusable","realInput","shadowRoot","descendants","NgForm","FormGroupDirective","FormItem","FormItemError","markedAs","AbstractControl","_control","[class.ionx--visible]","FormItemHint","labelComponentContainer","FormHelperModule","MatchMediaModule","defaultOptions","container","threshold","throttle","dataSrc","dataSrcSet","dataAlternate","classLoading","classLoaded","skipInvisible","callbackLoad","callbackError","callbackSet","callbackProcessed","_isInsideViewport","ownerDocument","documentTop","documentLeft","_getDocumentWidth","innerWidth","documentElement","clientWidth","_getTopOffset","clientTop","_getLeftOffset","left","clientLeft","pageYOffset","scrollTop","pageXOffset","scrollLeft","innerHeight","offsetWidth","_now","_bind","obj","instanceCounter","instances","LazyLoad","_options","_queryOriginNode","_previousLoopTime","_loopTimeout","_handleScrollFn","handleScroll","addEventListener","update","_showOnAppear","errorCallback","eventTarget","alternate","getAttribute","removeEventListener","loadCallback","lazyLoadError","callback_error","backgroundImage","src","tagName","toUpperCase","tmpImg","Image","srcsetDataAttribute","srcDataAttribute","elementSrc","children","pictureChild","sourceSrcset","setSourcesForPicture","dataTarget","imgSrcSet","setSources","_loopThroughElements","elementsLength","_elements","processedIndexes","lazyLoadProcessed","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","clearTimeout","nodeSet","querySelectorAll","retryError","ensureLazyImagesLoaded","root","instanceId","loader","parent_1","ImageLoader","_src","old","reload","_alternate","_cssClasses","_cssClassesTarget","loading","initialized","loaded","load","img","onload","onerror","ngAfterViewInit","[attr.ionx-image-loader]","ImageLoaderModule","IonBackButtonDelegate","onClick","IonicBackButtonFix","router","routerOutlet","navCtrl","defaultHref","canGoBack","back","animated","navigateBack","Event","Router","IonRouterOutlet","NavController","IonicInputFix","tabIndex","IonicItemTargetFix","sleep","IonicFixModule","LazyImage","renderer","reset","setElementClass","setElementAttribute","revalidate","ngAfterContentInit","LazyImage_1","Inject","forwardRef","LazyImageContainer","Renderer","lazyLoad","rect","height","initLazyLoad","LazyImageModule","Loader","progressType","progressValue","progressBuffer","progressPercent","mode","popover","instanceCallback","LoaderController","loaderInstance","keyboardClose","LoaderModule","ModalControllerComponent","controller","willEnter","didEnter","didDismiss","willDismiss","_presented","ModalControllerContentComponent","onWillDismiss","ModalModule","PopoverControllerComponent","_dismissing","PopoverControllerContentComponent","enableBackdropDismiss","encapsulation","ViewEncapsulation","None","PopoverModule","PseudoInput","PseudoInputModule","Spinner","backdropVisible","fill","SpinnerModule","TextareaAutosize","onChange","adjust","textarea","overflow","TextareaAutosizeModule","ToggleLabels","switchOn","toggle","switchOff","IonToggle","ToggleLabelsModule","images","image","item","ionxImageLoader","lazy"],"mappings":"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A,iBACA,gBACA,cACA,iBACA,qBACA,iBACA,sBACA,kBACA,mBACA,eACA,iBACA,gBACA,gBACA,oBACA,wBACA,iBACA,oBACA,oBACA,iBACA,eACA,kBACA,gBACA,eACA,kBACA,kBACA,eACA,mBACA,gBACA,kBACA,iBACA,iBACA,eACA,gBACA,eACA,kBACA,eACA,mBACA,kBACA,uBACA,uBACA,gBACA,gBACA,yBACA,oBACA,eACA,gBACA,iBACA,iBACA,sBACA,yBACA,kBACA,eACA,iBACA,gBACA,gBACA,gBACA,iBACA,eACA,gBACA,eACA,cACA,qBACA,cACA,kBACA,aACA,aACA,iBACA,eACA,iBACA,oBACA,qBACA,iBACA,aACA,cACA,iBACA,gBACA,cACA,aACA,cACA,YACA,cACA,eACA,kBACA,iBACA,oBACA,cACA,iBACA,oBACA,gBACA,kBACA,iBACA,oBACA,cACA,mBACA,YACA,kBACA,aACA,qBACA,eACA,mBACA,kBACA,sBACA,iBACA,iBACA,oBACA,oBACA,mBACA,oBACA,kBACA,qBACA,kBACA,yBACA,oBACA,eACA,gBACA,kBACA,iBACA,kBACA,eACA,kBACA,mBACA,cACA,iBACA,gBACA,eACA,mBACA,kBACA,iBACA,eACA,iBACA,oBACA,kBACA,uBACA,uBACA,cACA,eACA,gBACA,mBACA,mBACA,sBACA,YACA,cACA,gBACA,mBACA,kBACA,gBACA,mBACA,aACA,iBACA,mBACA,kBACA,qBACA,gBACA,oBACA,eACA,mBACA,mBACA,iBACA,mBACA,gBACA,qBACA,YACA,mBACA,eACA,aACA,oBACA,mBACA,eACA,aACA,eACA,gBACA,mBACA,gBACA,eACA,gBACA,qBACA,iBACA,cACA,cACA,sBACA,cACA,kBACA,mBACA,iBACA,qBACA,cACA,kBACA,sBACA,gBACA,qBACA,kBACA,mBACA,eACA,gBACA,kBACA,YACA,gBACA,eACA,oBACA,kBACA,wBACA,mBACA,cACA,cACA,kBACA,oBACA,eACA,mBACA,kBACA,8B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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","let currentLocale: string;\n\nexport interface TimezoneInfo {\n    id: string;\n    label: string;\n    date: string;\n}\n\nexport function timezoneInfo(tz: string, date?: Date) {\n\n    if (!date) {\n        date = new Date();\n    }\n\n    const format1 = {hour12: false, year: \"numeric\", month: \"numeric\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\", timeZone: tz};\n    const format2 = {hour12: false, year: \"numeric\", month: \"numeric\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\", timeZoneName: \"short\", timeZone: tz};\n\n    if (!currentLocale) {\n        currentLocale = new Intl.DateTimeFormat().resolvedOptions().locale;\n    }\n\n    try {\n        const d = new Intl.DateTimeFormat(currentLocale, format1).format(date);\n        const o = new Intl.DateTimeFormat(currentLocale, format2).format(date).replace(d, \"\").trim();\n\n        return {id: tz, label: tz.replace(\"_\", \" \") + \" (\" + o + \")\", date: d};\n\n    } catch (error) {\n        throw new Error(\"Invalid timezone. \" + error);\n        // console.log(error);\n    }\n}\n","import {Component} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-buttons\",\n    template: `<ng-content></ng-content>`,\n    styles: [`\n        :host {\n            display: flex;\n            align-items: center;\n            transform: translateZ(0);\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button {\n            height: 32px;\n            --padding-top: 0;\n            --padding-bottom: 0;\n            margin: 0px;\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button.button-clear {\n            --padding-start: 8px;\n            --padding-end: 8px;\n            margin: 0px 8px;\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button.button-clear + ion-button.button-clear {\n            margin-left: 0px;\n        }\n        \n        :host-context(.ios ion-toolbar) ::ng-deep ion-button {\n            font-weight: 400;\n        }\n    `]\n})\nexport class Buttons {\n\n    constructor() {\n    }\n\n}\n","import {NgModule} from \"@angular/core\";\nimport {Buttons} from \"./buttons\";\n\nexport {Buttons} from \"./buttons\";\n\n@NgModule({\n    declarations: [Buttons],\n    exports: [Buttons]\n})\nexport class ButtonsModule {\n}\n","import {Directive, TemplateRef, ViewContainerRef, Input} from \"@angular/core\";\n\n@Directive({\n    selector: \"[ionxSelectLabel]\"\n})\nexport class SelectLabel {\n\n    constructor(public readonly templateRef: TemplateRef<any>, public readonly viewContainer: ViewContainerRef) {\n    }\n\n    @Input()\n    separator: string = \", \";\n}","import {Component, Input, ElementRef, ChangeDetectionStrategy} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-select-option\",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    template: \"<ng-content></ng-content>\"\n})\nexport class SelectOption {\n\n    constructor(private element: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    value: any;\n\n    @Input()\n    divider: boolean;\n\n    get label(): string {\n        return this.element.nativeElement.innerText;\n    }\n}","export interface SelectOptionOrDivider<V = any> {\n    value?: V;\n    label?: string;\n    disabled?: boolean;\n    divider?: boolean;\n}\n\nexport class SelectOptions<V = any> extends Array<SelectOptionOrDivider<V>> {\n\n    constructor() {\n        super();\n        Object.setPrototypeOf(this, SelectOptions.prototype);\n    }\n\n    pushOption(value: V, label?: string, disabled?: boolean) {\n        this.push({value: value, label: label, disabled: disabled});\n    }\n\n    pushDivider(label: string) {\n        this.push({divider: true, label: label});\n    }\n}","import {CdkVirtualScrollViewport} from \"@angular/cdk/scrolling\";\nimport {Component, ElementRef, HostListener, Input, Optional, ViewChild} from \"@angular/core\";\nimport {IntlService} from \"@co.mmons/angular-intl\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\nimport {ModalController, PopoverController} from \"@ionic/angular\";\nimport {Components} from \"@ionic/core\";\nimport {SelectLabel} from \"./select-label\";\nimport {SelectOverlayOption} from \"./select-overlay-option\";\n\n@Component({\n    selector: \"ionx-select-overlay\",\n    templateUrl: \"select-overlay.html\",\n    styleUrls: [\"select-overlay.scss\"]\n})\nexport class SelectOverlayContent {\n\n    constructor(\n        public element: ElementRef<HTMLElement>,\n        protected intl: IntlService,\n        @Optional() private popoverController: PopoverController,\n        @Optional() private modalController: ModalController\n    ) {\n    }\n\n    @Input()\n    private overlay: string;\n\n    get popoverOverlay() {\n        return this.overlay == \"popover\";\n    }\n\n    get modalOverlay() {\n        return this.overlay == \"modal\";\n    }\n\n    @ViewChild(CdkVirtualScrollViewport, {static: false})\n    scroll: CdkVirtualScrollViewport;\n\n    scrollHeight: number;\n\n    itemHeight: number;\n\n    @ViewChild(\"content\", {read: ElementRef, static: false})\n    content: ElementRef<HTMLElement & Components.IonContent>;\n\n    @Input()\n    multiple: boolean = false;\n\n    @Input()\n    orderable: boolean;\n\n    @Input()\n    updateValues: (values: any[]) => void;\n\n    @Input()\n    title: any;\n\n    @Input()\n    searchHandler: (query: string, value: any, label: string) => boolean;\n\n    @Input()\n    valueValidator: (value: any, checked: boolean, otherValues: any[]) => any[];\n\n    @Input()\n    valueComparator: (a: any, b: any) => boolean;\n\n    @Input()\n    label: SelectLabel;\n\n    @Input()\n    options: SelectOverlayOption[];\n\n    @Input()\n    empty: boolean;\n\n    @Input()\n    whiteSpace: string = \"nowrap\";\n\n    visibleOptions: SelectOverlayOption[];\n\n    checkedOptions: SelectOverlayOption[];\n\n    private lastClickedOption: SelectOverlayOption;\n\n    optionDivider(option: SelectOverlayOption, index: number, options: SelectOverlayOption[]) {\n        for (let i = 0; i < this.options.length; i++) {\n            if (this.options[i] === option && i > 0 && this.options[i - 1].divider) {\n                return this.options[i - 1];\n            }\n        }\n    }\n\n    optionClicked(option: SelectOverlayOption, ev: Event) {\n\n        if (option.checked && !this.empty && this.checkedOptions.length === 1 && this.checkedOptions[0] === option) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            ev.stopImmediatePropagation();\n        }\n\n    }\n\n    optionBeforeChange(option: SelectOverlayOption) {\n        this.lastClickedOption = option;\n        option.checkedTimestamp = Date.now();\n    }\n\n    optionChanged(option: SelectOverlayOption) {\n\n        if (!this.lastClickedOption || option !== this.lastClickedOption) {\n            return;\n        }\n\n        if (this.multiple && this.valueValidator) {\n\n            let values: any[] = [];\n            for (let o of this.checkedOptions) {\n                if (o !== option) {\n                    values.push(o.value);\n                }\n            }\n\n            let optionWasChecked = option.checked;\n\n            for (let o of this.options) {\n                o.checked = false;\n            }\n\n            this.checkedOptions = [];\n\n            VALUES: for (let v of this.valueValidator(option.value, optionWasChecked, values) || []) {\n                for (let o of this.options) {\n                    if (this.valueComparator(o.value, v)) {\n                        o.checked = true;\n                        this.checkedOptions.push(o);\n                        continue VALUES;\n                    }\n                }\n            }\n\n        } else {\n\n            if (!option.checked) {\n\n                for (let i = 0; i < this.checkedOptions.length; i++) {\n                    if (this.checkedOptions[i] === option) {\n                        this.checkedOptions.splice(i, 1);\n                        break;\n                    }\n                }\n\n            } else {\n\n                if (!this.multiple) {\n\n                    for (let o of this.options) {\n                        if (o.checked && o !== option) {\n                            o.checked = false;\n                        }\n                    }\n\n                    this.checkedOptions = [option];\n\n                } else {\n                    this.checkedOptions.push(option);\n                }\n            }\n        }\n\n        if (!this.multiple) {\n            this.okClicked();\n        }\n\n        this.lastClickedOption = undefined;\n    }\n\n    private buildVisibleOptions() {\n\n        for (let i = 0; i < this.options.length; i++) {\n\n            if (this.options[i].divider) {\n                this.options[i].hidden = true;\n                if (this.options.length - 1 > i) {\n                    for (let ii = i + 1; ii < this.options.length; ii++) {\n\n                        if (this.options[ii].divider) {\n                            break;\n                        }\n\n                        if (!this.options[ii].hidden) {\n                            this.options[i].hidden = false;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        this.visibleOptions = [];\n        for (let option of this.options) {\n            if (!option.hidden) {\n                this.visibleOptions.push(option);\n            }\n        }\n    }\n\n    private async initOptions() {\n\n        this.checkedOptions = [];\n        for (let option of this.options) {\n            if (option.checked) {\n                this.checkedOptions.push(option);\n            }\n        }\n\n        if (this.orderable) {\n            this.checkedOptions.sort((a, b) => a.checkedTimestamp - b.checkedTimestamp);\n        }\n\n        this.buildVisibleOptions();\n\n        if (this.checkedOptions.length > 0) {\n\n            if (this.modalOverlay) {\n\n                await waitTill(() => !!this.scroll);\n\n                let indexToScroll: number = -1;\n\n                for (let i = 0; i < this.visibleOptions.length; i++) {\n                    if (this.visibleOptions[i].checked) {\n                        indexToScroll = i;\n                        break;\n                    }\n                }\n\n                this.scroll.scrollToIndex(indexToScroll);\n            }\n        }\n    }\n\n    okClicked() {\n\n        let values = [];\n\n        if (this.orderable) {\n            for (let o of this.checkedOptions) {\n                values.push(o.value);\n            }\n\n        } else {\n\n            OPTIONS: for (let option of this.options) {\n                for (let checked of this.checkedOptions) {\n                    if (option === checked) {\n                        values.push(checked.value);\n                        continue OPTIONS;\n                    }\n                }\n            }\n        }\n\n        this.updateValues(values);\n\n        if (this.popoverController && this.popoverOverlay) {\n            this.popoverController.dismiss();\n        } else if (this.modalController && this.modalOverlay) {\n            this.modalController.dismiss();\n        }\n    }\n\n    cancelClicked() {\n        if (this.popoverController && this.popoverOverlay) {\n            this.popoverController.dismiss();\n        } else if (this.modalController && this.modalOverlay) {\n            this.modalController.dismiss();\n        }\n    }\n\n    @ViewChild(\"searchbar\", {read: ElementRef, static: false})\n    private searchbar: ElementRef<HTMLIonSearchbarElement>;\n\n    search(ev: any) {\n\n        let query = this.searchbar.nativeElement.value ? this.searchbar.nativeElement.value.toString() : undefined;\n        if (query) {\n            query = query.trim().toLowerCase();\n        }\n\n        for (let o of this.options) {\n            if (!query) {\n                o.hidden = false;\n            } else {\n                o.hidden = this.searchHandler ? !this.searchHandler(query, o.value, o.label) : (o.label || \"\").toLowerCase().indexOf(query) < 0;\n            }\n        }\n\n        this.buildVisibleOptions();\n    }\n\n    ngOnInit() {\n\n        if (this.popoverOverlay) {\n            this.initOptions();\n        } else {\n\n            const modal = this.element.nativeElement.closest(\"ion-modal\");\n\n            if (modal.classList.contains(\"modal-ios\")) {\n                this.itemHeight = 44.55;\n            } else {\n                this.itemHeight = 49;\n            }\n        }\n    }\n\n    @HostListener(\"window:resize\")\n    /*private*/ async resetScrollHeight() {\n\n        const oldHeight = this.scrollHeight;\n        let newHeight = this.content.nativeElement.offsetHeight;\n\n        if (newHeight == oldHeight) {\n            await waitTill(() => {\n                newHeight = this.content.nativeElement.offsetHeight;\n                return newHeight !== oldHeight;\n            }, undefined, 2000);\n        }\n\n        this.scrollHeight = newHeight;\n\n        if (typeof oldHeight !== \"number\" && this.scroll) {\n            this.scroll.checkViewportSize();\n        }\n    }\n\n    async ionViewDidEnter() {\n\n        if (this.modalOverlay) {\n\n            this.resetScrollHeight();\n\n            if (!window[\"cordova\"] || window[\"cordova\"].platformId === \"browser\") {\n                await waitTill(() => !!this.searchbar && !!this.searchbar.nativeElement.querySelector(\"input\"));\n                this.searchbar.nativeElement.setFocus();\n            }\n\n            this.initOptions();\n        }\n    }\n\n}\n","import {Component, ContentChild, ContentChildren, ElementRef, EventEmitter, Input, OnChanges, OnInit, Optional, Output, QueryList, SimpleChanges, ViewChild} from \"@angular/core\";\nimport {ControlValueAccessor, NgControl} from \"@angular/forms\";\nimport {IntlService} from \"@co.mmons/angular-intl\";\nimport {ModalController, PopoverController} from \"@ionic/angular\";\nimport {SelectLabel} from \"./select-label\";\nimport {SelectOption} from \"./select-option\";\nimport {SelectOptions} from \"./select-options\";\nimport {SelectOverlayContent} from \"./select-overlay\";\nimport {SelectOverlayOption} from \"./select-overlay-option\";\n\n@Component({\n    selector: \"ionx-select\",\n    host: {\n        \"[attr.ionx--chips-layout]\": \"!!orderable || null\",\n        \"[attr.ionx--readonly]\": \"(!!readonly || !!disabled) || null\",\n        \"[attr.ionx--orderable]\": \"(!!orderable && !readonly && !disabled && values && values.length > 1) || null\",\n    },\n    styleUrls: [\"select.scss\"],\n    templateUrl: \"select.html\"\n})\nexport class Select implements ControlValueAccessor, OnChanges, OnInit {\n\n\n    constructor(private element: ElementRef<HTMLElement>, protected intl: IntlService, private popoverController: PopoverController, protected modalController: ModalController, @Optional() protected control: NgControl) {\n\n        if (control) {\n            control.valueAccessor = this;\n        }\n    }\n\n\n    private _listItem: HTMLIonItemElement;\n\n    private get listItem() {\n\n        if (this._listItem) {\n            return this._listItem;\n        }\n\n        return this._listItem = this.element.nativeElement.closest(\"ion-item\");\n    }\n\n    // private dragula: dragula.Drake;\n\n    @ViewChild(\"textContainer\", {static: true})\n    textContainer: ElementRef<HTMLElement>;\n\n    @Input()\n    public placeholder: string;\n\n    @Input()\n    public overlay: \"popover\" | \"modal\";\n\n    @Input()\n    public overlayWhiteSpace: string = \"nowrap\";\n\n    /**\n     * Whether value should be always returned as array, no matter if multiple is set to true.\n     */\n    @Input()\n    public alwaysArray: boolean;\n\n    /**\n     * Compare values as string, that is whether toString() of both values are equal.\n     */\n    @Input()\n    public compareAsString: boolean;\n\n    @Input()\n    public comparator: (a: any, b: any) => boolean | number;\n\n    /**\n     * If multiple value selection is allowed.\n     */\n    @Input()\n    public multiple: boolean;\n\n    /**\n     * The title of the select overlay (only in case of modals).\n     */\n    @Input()\n    public title: string;\n\n    /**\n     * If multiple values selection can be ordered after selection.\n     */\n    @Input()\n    public orderable: boolean;\n\n    @Input()\n    public empty: boolean = true;\n\n\n    _readonly: boolean;\n\n    @Input()\n    public set readonly(readonly: boolean) {\n\n        if (typeof readonly === \"string\") {\n            this.readonly = readonly === \"true\";\n        } else {\n            this._readonly = readonly;\n        }\n    }\n\n    public get readonly(): boolean {\n        return !!this._readonly;\n    }\n\n\n    /**\n     * A function, that will be used for testing if value passes search critieria.\n     * Default implementation checks lowercased label of value against \n     * lowercased searched text.\n     */\n    @Input()\n    public searchTest: (query: string, value: any, label: string) => boolean;\n\n    @Input()\n    public checkValidator: (value: any, checked: boolean, otherCheckedValues: any[]) => any[];\n\n    @Output()\n    public readonly ionChange: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly change: EventEmitter<any> = this.ionChange;\n\n\n    _disabled: boolean;\n\n    /**\n     * Whether or not the select component is disabled.\n     */\n    @Input()\n    public get disabled() {\n        return this._disabled;\n    }\n\n    public set disabled(disabled: boolean | string) {\n        this._disabled = disabled || disabled == \"true\" ? true : false;\n    }\n\n    /*private*/values: any[] = [];\n\n    @Input()\n    public set value(value: any | any[]) {\n\n        let changed = false;\n\n        let newValue = Array.isArray(value) ? value : (value !== undefined && value !== null ? [value] : []);\n\n        if (newValue.length != this.values.length) {\n            changed = true;\n\n        } else {\n            for (let i = 0; i < this.values.length; i++) {\n                if (!this.valueComparator(this.values[i], newValue[i])) {\n                    changed = true;\n                    break;\n                }\n            }\n        }\n\n        this.values = newValue;\n\n        if (changed) {\n            this.checkListItemHasValue();\n\n            let value = this.value;\n\n            if (this.fireOnChange) {\n                if (this.controlOnChange) {\n                    this.controlOnChange(value);\n                }\n\n                this.ionChange.emit(value);\n            }\n        }\n\n        this.fireOnChange = false;\n    }\n\n    public get value(): any | any[] {\n        return this.multiple || this.alwaysArray ? this.values.slice(0) : (this.values.length > 0 ? this.values[0] : undefined);\n    }\n\n    private cachedLabels: string[];\n\n    /*private*/ labelImpl$(value: any): string {\n\n        if (this.options instanceof SelectOptions) {\n\n            if (!this.cachedLabels) {\n                this.cachedLabels = new Array(this.options.length);\n            }\n            \n            for (let i = 0; i < this.options.length; i++) {\n                \n                if (this.valueComparator(value, this.options[i].value)) {\n                    \n                    if (this.cachedLabels[i]) {\n                        return this.cachedLabels[i];\n                    }\n\n                    return this.cachedLabels[i] = this.options[i].label ? this.options[i].label : (this.label ? this.label(value) : value + \"\");\n                }\n            }\n\n        } else if (this.options) {\n\n                if (!this.cachedLabels) {\n                    this.cachedLabels = new Array(this.options.length);\n                }\n\n                for (let i = 0; i < this.options.length; i++) {\n\n                    if (this.valueComparator(value, this.options[i])) {\n\n                        if (this.cachedLabels[i]) {\n                            return this.cachedLabels[i];\n                        }\n\n                        return this.cachedLabels[i] = this.label ? this.label(value) : value + \"\";\n                    }\n                }\n\n        } else if (this.optionsComponents) {\n\n            for (let options = this.optionsComponents.toArray(), i = 0; i < options.length; i++) {\n                if (this.valueComparator(value, options[i].value)) {\n                    return options[i].label;\n                }\n            }\n        }\n\n        return value;\n    }\n\n    private fireOnChange: boolean;\n\n    writeValue(value: any): void {\n        this.value = value;\n    }\n\n    public hasValue(): boolean {\n        return this.values.length > 0;\n    }\n\n    private checkListItemHasValue() {\n        if (this.listItem) {\n            if (this.hasValue()) {\n                this.listItem.classList.add(\"has-value\")\n            } else {\n                this.listItem.classList.remove(\"has-value\");\n            }\n        }\n    }\n\n\n    private valueComparator = (a: any, b: any) => {\n\n        if (this.compareAsString) {\n            if (a !== undefined && a !== null && b !== undefined && b !== null) {\n                return a.toString() == b.toString();\n            } else {\n                return a == b;\n            }\n\n        } else if (this.comparator) {\n            const r = this.comparator(a, b);\n            return r === 0 || r === true;\n        }\n        \n        return a === b;\n    }\n\n\n    @ContentChild(SelectLabel, {static: false})\n    /*private*/ labelTemplate: SelectLabel;\n\n    @Input()\n    label: (value: any) => string;\n\n\n    @Input()\n    options: any[] | SelectOptions;\n\n    private optionsComponents: QueryList<SelectOption>;\n\n    @ContentChildren(SelectOption)\n    protected set _optionsComponents(val: QueryList<SelectOption>) {\n        this.optionsComponents = val;\n        //this.optionsComponents.changes.subscribe(() => this.updateText());\n    }\n\n    private indexOfValue(value: any): number {\n\n        if (!this.values) {\n            return -1;\n        }\n\n        for (let i = 0; i < this.values.length; i++) {\n            if (this.valueComparator(value, this.values[i])) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n\n    private controlOnChange: Function;\n\n    public registerOnChange(fn: Function): void {\n        this.controlOnChange = fn;\n    }\n\n    private controlOnTouched: Function;\n\n    public registerOnTouched(fn: Function): void {\n        this.controlOnTouched = fn;\n    }\n\n    public setDisabledState(isDisabled: boolean) {\n        this.disabled = isDisabled;\n    }\n\n\n    public async open(event: Event) {\n\n        let overlay: \"popover\" | \"modal\" = this.overlay;\n\n        if (!overlay) {\n            overlay = \"popover\";\n        }\n\n        let options: SelectOverlayOption[] = [];\n        if (this.options instanceof SelectOptions) {\n            for (const option of this.options) {\n                const valueIndex = option.value ? this.indexOfValue(option.value) : -1;\n                options.push({value: option.value, checked: option.value ? valueIndex > -1 : false, checkedTimestamp: this.orderable && valueIndex, label: option.label ? option.label : ((!this.searchTest || !this.labelTemplate) ? this.labelImpl$(option.value) : undefined), disabled: option.disabled, divider: option.divider});\n            }\n\n        } else if (this.options) {\n            for (const option of this.options) {\n                const valueIndex = this.indexOfValue(option);\n                options.push({value: option, checked: valueIndex > -1, checkedTimestamp: this.orderable && valueIndex, label: !this.labelTemplate || !this.searchTest ? this.labelImpl$(option) : undefined});\n            }\n\n        } else if (this.optionsComponents) {\n            for (const option of this.optionsComponents.toArray()) {\n                const valueIndex = this.indexOfValue(option.value);\n                options.push({value: option.value, checked: valueIndex > -1, checkedTimestamp: this.orderable && valueIndex, label: option.label, divider: !!option.divider});\n            }\n        }\n\n        let overlayTitle: string;\n        if (this.title) {\n            overlayTitle = this.title;\n        }\n\n        if (!overlayTitle && this.listItem) {\n\n            const title = this.listItem.querySelector(\"[ionx-select-overlay-title]\") as HTMLElement;\n            if (title) {\n                overlayTitle = title.innerText;\n            } else {\n                const label = this.listItem.querySelector(\"ion-label\");\n                if (label) {\n                    overlayTitle = label.innerText;\n                }\n            }\n        }\n\n        if (!overlayTitle && this.element.nativeElement.title) {\n            overlayTitle = this.element.nativeElement.title;\n        }\n\n        if (!overlayTitle && this.placeholder) {\n            overlayTitle = this.placeholder;\n        }\n\n        let overlayData = {\n            overlay: overlay,\n            options: options,\n            multiple: !!this.multiple,\n            title: overlayTitle,\n            label: this.labelTemplate,\n            orderable: !!this.orderable,\n            empty: !!this.empty,\n            whiteSpace: this.overlayWhiteSpace,\n            valueValidator: this.checkValidator,\n            valueComparator: this.valueComparator,\n            width: this.element.nativeElement.getBoundingClientRect().width,\n\n            updateValues: (value: any[]) => {\n\n                this.fireOnChange = true;\n                this.value = value;\n\n                if (this.controlOnTouched) {\n                    this.controlOnTouched();\n                }\n            }\n        };\n\n        if (overlay == \"popover\") {\n            let popover = await this.popoverController.create({component: SelectOverlayContent, componentProps: overlayData, cssClass: \"ionx-select-overlay-width\", event: event});\n            popover.present();\n        } else {\n            let modal = await this.modalController.create({component: SelectOverlayContent, componentProps: overlayData});\n            modal.present();\n        }\n    }\n\n\n    // private initDragula() {\n    //\n    //     if (this.orderable && !this.disabled && !this.readonly) {\n    //\n    //         if (this.dragula) {\n    //             return;\n    //         }\n    //\n    //         this.dragula = (dragula as any)({\n    //             containers: [this.textContainer.nativeElement],\n    //             direction: \"horizontal\",\n    //\n    //             moves: (el, container, handle) => {\n    //                 return this.values && this.values.length > 1;\n    //             }\n    //         });\n    //\n    //         this.dragula.on(\"drop\", (el, target, source, sibling) => {\n    //\n    //             const startIndex = parseInt(el.getAttribute(\"ionx--index\"), 0);\n    //             let endIndex = sibling ? parseInt(sibling.getAttribute(\"ionx--index\"), 0) : this.values.length;\n    //\n    //             if (endIndex > startIndex) {\n    //                 endIndex -= 1;\n    //             }\n    //\n    //             const element = this.values[startIndex];\n    //             this.values.splice(startIndex, 1);\n    //             this.values.splice(endIndex, 0, element);\n    //\n    //             if (this.controlOnChange) {\n    //                 this.controlOnChange(this.values.slice());\n    //             }\n    //\n    //             this.ionChange.emit(this.values.slice());\n    //         });\n    //\n    //     } else if (this.dragula) {\n    //         this.dragula.destroy();\n    //         this.dragula = undefined;\n    //     }\n    // }\n\n    private updateCssClasses() {\n\n        if (this.listItem) {\n            this.listItem.classList.add(\"item-select\");\n\n            if (!this.readonly && !this.disabled) {\n                this.listItem.classList.add(\"item-interactive\");\n            } else {\n                this.listItem.classList.remove(\"item-interactive\");\n            }\n\n\n            this.element.nativeElement.classList.add(\"in-item\");\n\n        } else {\n            this.element.nativeElement.classList.remove(\"in-item\");\n        }\n    }\n\n\n    ngOnChanges(changes: SimpleChanges) {\n\n        if (changes.options) {\n            this.cachedLabels = undefined;\n        }\n\n        if (changes[\"orderable\"] || changes[\"readonly\"] || changes[\"disabled\"]) {\n            // this.initDragula();\n            this.updateCssClasses();\n        }\n    }\n\n    ngOnInit() {\n        //this.updateText();\n\n        this.updateCssClasses();\n\n        if (this.orderable) {\n            // this.initDragula();\n        }\n    }\n\n}\n","import {ScrollingModule} from \"@angular/cdk/scrolling\";\nimport {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {IntlModule} from \"@co.mmons/angular-intl\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {ButtonsModule} from \"../buttons/index\";\nimport {Select} from \"./select\";\nimport {SelectLabel} from \"./select-label\";\nimport {SelectOption} from \"./select-option\";\nimport {SelectOverlayContent} from \"./select-overlay\";\n\nexport * from \"./select\";\nexport * from \"./select-option\";\nexport * from \"./select-options\";\n\n@NgModule({\n    declarations: [Select, SelectOption, SelectOverlayContent, SelectLabel],\n    entryComponents: [Select, SelectOption, SelectOverlayContent],\n    exports: [Select, SelectOption, SelectOverlayContent, SelectLabel],\n    imports: [CommonModule, FormsModule, IonicModule, IntlModule, ScrollingModule, ButtonsModule]\n})\nexport class SelectModule {\n}\n","export const defaultDateTimeFormat: Intl.DateTimeFormatOptions = {\n    year: \"numeric\", month: \"numeric\", day: \"numeric\",\n    hour: \"2-digit\", minute: \"2-digit\"\n};\n\nexport const defaultDateFormat: Intl.DateTimeFormatOptions = {\n    year: \"numeric\", month: \"numeric\", day: \"numeric\"\n};\n","import {timezoneInfo, TimezoneInfo} from \"./timezone-info\";\n\nconst rawTimezones = [\n    \"Europe/Andorra\",\n    \"Asia/Dubai\",\n    \"Asia/Kabul\",\n    \"Europe/Tirane\",\n    \"Asia/Yerevan\",\n    \"Antarctica/Casey\",\n    \"Antarctica/Davis\",\n    \"Antarctica/DumontDUrville\",\n    \"Antarctica/Mawson\",\n    \"Antarctica/Palmer\",\n    \"Antarctica/Rothera\",\n    \"Antarctica/Syowa\",\n    \"Antarctica/Troll\",\n    \"Antarctica/Vostok\",\n    \"America/Argentina/Buenos_Aires\",\n    \"America/Argentina/Cordoba\",\n    \"America/Argentina/Salta\",\n    \"America/Argentina/Jujuy\",\n    \"America/Argentina/Tucuman\",\n    \"America/Argentina/Catamarca\",\n    \"America/Argentina/La_Rioja\",\n    \"America/Argentina/San_Juan\",\n    \"America/Argentina/Mendoza\",\n    \"America/Argentina/San_Luis\",\n    \"America/Argentina/Rio_Gallegos\",\n    \"America/Argentina/Ushuaia\",\n    \"Pacific/Pago_Pago\",\n    \"Europe/Vienna\",\n    \"Australia/Lord_Howe\",\n    \"Antarctica/Macquarie\",\n    \"Australia/Hobart\",\n    \"Australia/Currie\",\n    \"Australia/Melbourne\",\n    \"Australia/Sydney\",\n    \"Australia/Broken_Hill\",\n    \"Australia/Brisbane\",\n    \"Australia/Lindeman\",\n    \"Australia/Adelaide\",\n    \"Australia/Darwin\",\n    \"Australia/Perth\",\n    \"Australia/Eucla\",\n    \"Asia/Baku\",\n    \"America/Barbados\",\n    \"Asia/Dhaka\",\n    \"Europe/Brussels\",\n    \"Europe/Sofia\",\n    \"Atlantic/Bermuda\",\n    \"Asia/Brunei\",\n    \"America/La_Paz\",\n    \"America/Noronha\",\n    \"America/Belem\",\n    \"America/Fortaleza\",\n    \"America/Recife\",\n    \"America/Araguaina\",\n    \"America/Maceio\",\n    \"America/Bahia\",\n    \"America/Sao_Paulo\",\n    \"America/Campo_Grande\",\n    \"America/Cuiaba\",\n    \"America/Santarem\",\n    \"America/Porto_Velho\",\n    \"America/Boa_Vista\",\n    \"America/Manaus\",\n    \"America/Eirunepe\",\n    \"America/Rio_Branco\",\n    \"America/Nassau\",\n    \"Asia/Thimphu\",\n    \"Europe/Minsk\",\n    \"America/Belize\",\n    \"America/St_Johns\",\n    \"America/Halifax\",\n    \"America/Glace_Bay\",\n    \"America/Moncton\",\n    \"America/Goose_Bay\",\n    \"America/Blanc-Sablon\",\n    \"America/Toronto\",\n    \"America/Nipigon\",\n    \"America/Thunder_Bay\",\n    \"America/Iqaluit\",\n    \"America/Pangnirtung\",\n    \"America/Atikokan\",\n    \"America/Winnipeg\",\n    \"America/Rainy_River\",\n    \"America/Resolute\",\n    \"America/Rankin_Inlet\",\n    \"America/Regina\",\n    \"America/Swift_Current\",\n    \"America/Edmonton\",\n    \"America/Cambridge_Bay\",\n    \"America/Yellowknife\",\n    \"America/Inuvik\",\n    \"America/Creston\",\n    \"America/Dawson_Creek\",\n    \"America/Fort_Nelson\",\n    \"America/Vancouver\",\n    \"America/Whitehorse\",\n    \"America/Dawson\",\n    \"Indian/Cocos\",\n    \"Europe/Zurich\",\n    \"Africa/Abidjan\",\n    \"Pacific/Rarotonga\",\n    \"America/Santiago\",\n    \"America/Punta_Arenas\",\n    \"Pacific/Easter\",\n    \"Asia/Shanghai\",\n    \"Asia/Urumqi\",\n    \"America/Bogota\",\n    \"America/Costa_Rica\",\n    \"America/Havana\",\n    \"Atlantic/Cape_Verde\",\n    \"America/Curacao\",\n    \"Indian/Christmas\",\n    \"Asia/Nicosia\",\n    \"Asia/Famagusta\",\n    \"Europe/Prague\",\n    \"Europe/Berlin\",\n    \"Europe/Copenhagen\",\n    \"America/Santo_Domingo\",\n    \"Africa/Algiers\",\n    \"America/Guayaquil\",\n    \"Pacific/Galapagos\",\n    \"Europe/Tallinn\",\n    \"Africa/Cairo\",\n    \"Africa/El_Aaiun\",\n    \"Europe/Madrid\",\n    \"Africa/Ceuta\",\n    \"Atlantic/Canary\",\n    \"Europe/Helsinki\",\n    \"Pacific/Fiji\",\n    \"Atlantic/Stanley\",\n    \"Pacific/Chuuk\",\n    \"Pacific/Pohnpei\",\n    \"Pacific/Kosrae\",\n    \"Atlantic/Faroe\",\n    \"Europe/Paris\",\n    \"Europe/London\",\n    \"Asia/Tbilisi\",\n    \"America/Cayenne\",\n    \"Africa/Accra\",\n    \"Europe/Gibraltar\",\n    \"America/Godthab\",\n    \"America/Danmarkshavn\",\n    \"America/Scoresbysund\",\n    \"America/Thule\",\n    \"Europe/Athens\",\n    \"Atlantic/South_Georgia\",\n    \"America/Guatemala\",\n    \"Pacific/Guam\",\n    \"Africa/Bissau\",\n    \"America/Guyana\",\n    \"Asia/Hong_Kong\",\n    \"America/Tegucigalpa\",\n    \"America/Port-au-Prince\",\n    \"Europe/Budapest\",\n    \"Asia/Jakarta\",\n    \"Asia/Pontianak\",\n    \"Asia/Makassar\",\n    \"Asia/Jayapura\",\n    \"Europe/Dublin\",\n    \"Asia/Jerusalem\",\n    \"Asia/Kolkata\",\n    \"Indian/Chagos\",\n    \"Asia/Baghdad\",\n    \"Asia/Tehran\",\n    \"Atlantic/Reykjavik\",\n    \"Europe/Rome\",\n    \"America/Jamaica\",\n    \"Asia/Amman\",\n    \"Asia/Tokyo\",\n    \"Africa/Nairobi\",\n    \"Asia/Bishkek\",\n    \"Pacific/Tarawa\",\n    \"Pacific/Enderbury\",\n    \"Pacific/Kiritimati\",\n    \"Asia/Pyongyang\",\n    \"Asia/Seoul\",\n    \"Asia/Almaty\",\n    \"Asia/Qyzylorda\",\n    \"Asia/Qostanay\",\n    \"Asia/Aqtobe\",\n    \"Asia/Aqtau\",\n    \"Asia/Atyrau\",\n    \"Asia/Oral\",\n    \"Asia/Beirut\",\n    \"Asia/Colombo\",\n    \"Africa/Monrovia\",\n    \"Europe/Vilnius\",\n    \"Europe/Luxembourg\",\n    \"Europe/Riga\",\n    \"Africa/Tripoli\",\n    \"Africa/Casablanca\",\n    \"Europe/Monaco\",\n    \"Europe/Chisinau\",\n    \"Pacific/Majuro\",\n    \"Pacific/Kwajalein\",\n    \"Asia/Yangon\",\n    \"Asia/Ulaanbaatar\",\n    \"Asia/Hovd\",\n    \"Asia/Choibalsan\",\n    \"Asia/Macau\",\n    \"America/Martinique\",\n    \"Europe/Malta\",\n    \"Indian/Mauritius\",\n    \"Indian/Maldives\",\n    \"America/Mexico_City\",\n    \"America/Cancun\",\n    \"America/Merida\",\n    \"America/Monterrey\",\n    \"America/Matamoros\",\n    \"America/Mazatlan\",\n    \"America/Chihuahua\",\n    \"America/Ojinaga\",\n    \"America/Hermosillo\",\n    \"America/Tijuana\",\n    \"America/Bahia_Banderas\",\n    \"Asia/Kuala_Lumpur\",\n    \"Asia/Kuching\",\n    \"Africa/Maputo\",\n    \"Africa/Windhoek\",\n    \"Pacific/Noumea\",\n    \"Pacific/Norfolk\",\n    \"Africa/Lagos\",\n    \"America/Managua\",\n    \"Europe/Amsterdam\",\n    \"Europe/Oslo\",\n    \"Asia/Kathmandu\",\n    \"Pacific/Nauru\",\n    \"Pacific/Niue\",\n    \"Pacific/Auckland\",\n    \"Pacific/Chatham\",\n    \"America/Panama\",\n    \"America/Lima\",\n    \"Pacific/Tahiti\",\n    \"Pacific/Marquesas\",\n    \"Pacific/Gambier\",\n    \"Pacific/Port_Moresby\",\n    \"Pacific/Bougainville\",\n    \"Asia/Manila\",\n    \"Asia/Karachi\",\n    \"Europe/Warsaw\",\n    \"America/Miquelon\",\n    \"Pacific/Pitcairn\",\n    \"America/Puerto_Rico\",\n    \"Asia/Gaza\",\n    \"Asia/Hebron\",\n    \"Europe/Lisbon\",\n    \"Atlantic/Madeira\",\n    \"Atlantic/Azores\",\n    \"Pacific/Palau\",\n    \"America/Asuncion\",\n    \"Asia/Qatar\",\n    \"Indian/Reunion\",\n    \"Europe/Bucharest\",\n    \"Europe/Belgrade\",\n    \"Europe/Kaliningrad\",\n    \"Europe/Moscow\",\n    \"Europe/Simferopol\",\n    \"Europe/Kirov\",\n    \"Europe/Astrakhan\",\n    \"Europe/Volgograd\",\n    \"Europe/Saratov\",\n    \"Europe/Ulyanovsk\",\n    \"Europe/Samara\",\n    \"Asia/Yekaterinburg\",\n    \"Asia/Omsk\",\n    \"Asia/Novosibirsk\",\n    \"Asia/Barnaul\",\n    \"Asia/Tomsk\",\n    \"Asia/Novokuznetsk\",\n    \"Asia/Krasnoyarsk\",\n    \"Asia/Irkutsk\",\n    \"Asia/Chita\",\n    \"Asia/Yakutsk\",\n    \"Asia/Khandyga\",\n    \"Asia/Vladivostok\",\n    \"Asia/Ust-Nera\",\n    \"Asia/Magadan\",\n    \"Asia/Sakhalin\",\n    \"Asia/Srednekolymsk\",\n    \"Asia/Kamchatka\",\n    \"Asia/Anadyr\",\n    \"Asia/Riyadh\",\n    \"Pacific/Guadalcanal\",\n    \"Indian/Mahe\",\n    \"Africa/Khartoum\",\n    \"Europe/Stockholm\",\n    \"Asia/Singapore\",\n    \"America/Paramaribo\",\n    \"Africa/Juba\",\n    \"Africa/Sao_Tome\",\n    \"America/El_Salvador\",\n    \"Asia/Damascus\",\n    \"America/Grand_Turk\",\n    \"Africa/Ndjamena\",\n    \"Indian/Kerguelen\",\n    \"Asia/Bangkok\",\n    \"Asia/Dushanbe\",\n    \"Pacific/Fakaofo\",\n    \"Asia/Dili\",\n    \"Asia/Ashgabat\",\n    \"Africa/Tunis\",\n    \"Pacific/Tongatapu\",\n    \"Europe/Istanbul\",\n    \"America/Port_of_Spain\",\n    \"Pacific/Funafuti\",\n    \"Asia/Taipei\",\n    \"Europe/Kiev\",\n    \"Europe/Uzhgorod\",\n    \"Europe/Zaporozhye\",\n    \"Pacific/Wake\",\n    \"America/New_York\",\n    \"America/Detroit\",\n    \"America/Kentucky/Louisville\",\n    \"America/Kentucky/Monticello\",\n    \"America/Indiana/Indianapolis\",\n    \"America/Indiana/Vincennes\",\n    \"America/Indiana/Winamac\",\n    \"America/Indiana/Marengo\",\n    \"America/Indiana/Petersburg\",\n    \"America/Indiana/Vevay\",\n    \"America/Chicago\",\n    \"America/Indiana/Tell_City\",\n    \"America/Indiana/Knox\",\n    \"America/Menominee\",\n    \"America/North_Dakota/Center\",\n    \"America/North_Dakota/New_Salem\",\n    \"America/North_Dakota/Beulah\",\n    \"America/Denver\",\n    \"America/Boise\",\n    \"America/Phoenix\",\n    \"America/Los_Angeles\",\n    \"America/Anchorage\",\n    \"America/Juneau\",\n    \"America/Sitka\",\n    \"America/Metlakatla\",\n    \"America/Yakutat\",\n    \"America/Nome\",\n    \"America/Adak\",\n    \"Pacific/Honolulu\",\n    \"America/Montevideo\",\n    \"Asia/Samarkand\",\n    \"Asia/Tashkent\",\n    \"America/Caracas\",\n    \"Asia/Ho_Chi_Minh\",\n    \"Pacific/Efate\",\n    \"Pacific/Wallis\",\n    \"Pacific/Apia\",\n    \"Africa/Johannesburg\"\n];\n\nexport function timezones(date?: Date) {\n\n    if (!date) {\n        date = new Date();\n    }\n\n    const unsorted: TimezoneInfo[] = [];\n\n    for (const tz of rawTimezones) {\n        try {\n            unsorted.push(timezoneInfo(tz, date));\n        } catch (error) {\n            // console.warn(error);\n        }\n    }\n\n    return unsorted.sort((a, b) => a.date.localeCompare(b.date));\n}\n","import {ChangeDetectorRef, Component, Input} from \"@angular/core\";\nimport {IntlService} from \"@co.mmons/angular-intl\";\nimport {DateTimezone} from \"@co.mmons/js-utils/core\";\nimport {ModalController} from \"@ionic/angular\";\nimport {SelectOptions} from \"../select\";\nimport {timezoneInfo} from \"./timezone-info\";\nimport {timezones} from \"./timezones\";\n\nconst weekdayNarrowFormat: Intl.DateTimeFormatOptions = {\n    weekday: \"short\"\n};\n\nconst monthYearFormat: Intl.DateTimeFormatOptions = {\n    month: \"long\",\n    year: \"numeric\"\n};\n\nconst monthFormat: Intl.DateTimeFormatOptions = {\n    month: \"long\"\n};\n\n@Component({\n    selector: \"ionx-datetime-overlay\",\n    templateUrl: \"overlay.html\",\n    styleUrls: [\"overlay.scss\"]\n})\nexport class DateTimePickerOverlay {\n\n    constructor(private viewController: ModalController, private intl: IntlService, private changeDetector: ChangeDetectorRef) {\n    }\n\n    @Input()\n    private value: Date;\n\n    @Input()\n    private formatOptions: Intl.DateTimeFormatOptions;\n\n    @Input()\n    title: string;\n\n    @Input()\n    timezone: string;\n\n    @Input()\n    timezoneDisabled: boolean;\n\n    timezones: SelectOptions<String>;\n\n    dateHeader: string;\n\n    dateView: \"days\" | \"months\" | \"years\" = \"days\";\n\n    dateViews: {id: string, label: string}[] = [{id: \"days\", label: this.intl.message(\"@co.mmons/ionic-extensions#Day\")}, {id: \"months\", label: this.intl.message(\"@co.mmons/ionic-extensions#Month\")}, {id: \"years\", label: this.intl.message(\"@co.mmons/ionic-extensions#Year\")}];\n\n    private dateViewValue: Date;\n\n    dateViewChanged() {\n        this.dateViewValue = new Date(this.value);\n        this.generateDateValues();\n        this.generateDateHeader();\n    }\n\n    dateViewMove(step: number) {\n\n        if (this.dateView == \"days\") {\n            this.dateViewValue.setUTCMonth(this.dateViewValue.getUTCMonth() + step);\n        } else if (this.dateView == \"months\") {\n            this.dateViewValue.setUTCFullYear(this.dateViewValue.getUTCFullYear() + step);\n\n        } else if (this.dateView == \"years\") {\n\n            let yearHundret = Math.floor(this.dateViewValue.getUTCFullYear() / 100) * 100;\n            let yearTens = this.dateViewValue.getUTCFullYear() - yearHundret;\n\n            let yearStart = 0;\n            if (yearTens >= 80) {\n                yearStart = 80;\n            } else if (yearTens >= 60) {\n                yearStart = 60;\n            } else if (yearTens >= 40) {\n                yearStart = 40;\n            } else if (yearTens >= 20) {\n                yearStart = 20;\n            }\n\n            this.dateViewValue.setUTCFullYear(yearHundret + yearStart + (20 * step));\n        }\n\n        this.generateDateValues();\n        this.generateDateHeader();\n    }\n\n    dateValues: {id: number, label: string | number, sublabel?: string, checked?: boolean, hidden?: boolean}[];\n\n    dateValueClicked(value: number) {\n\n        let tmpDate = new Date(this.dateViewValue);\n\n        if (this.dateView == \"days\") {\n            tmpDate.setUTCDate(value);\n\n        } else if (this.dateView == \"months\") {\n            tmpDate.setUTCMonth(value);\n\n            for (let i = 1; i < 5; i++) {\n                if (tmpDate.getUTCMonth() != value) {\n                    tmpDate = new Date(this.dateViewValue);\n                    tmpDate.setUTCDate(tmpDate.getUTCDate() - i);\n                    tmpDate.setUTCMonth(value);\n                } else {\n                    break;\n                }\n            }\n\n        } else if (this.dateView == \"years\") {\n            tmpDate.setUTCFullYear(value);\n\n            for (let i = 1; i < 5; i++) {\n                if (tmpDate.getUTCMonth() != this.dateViewValue.getUTCMonth()) {\n                    tmpDate = new Date(this.dateViewValue);\n                    tmpDate.setUTCMonth(this.dateViewValue.getUTCMonth(), tmpDate.getUTCDate() - i);\n                    tmpDate.setUTCFullYear(value);\n                } else {\n                    break;\n                }\n            }\n        }\n\n        for (let v of this.dateValues) {\n            v.checked = v.id == value;\n        }\n\n        this.value = new Date(tmpDate);\n        this.dateViewValue = new Date(tmpDate);\n    }\n\n    private generateDateValues() {\n\n        this.dateValues = [];\n\n        let tmpDate = new Date(this.dateViewValue);\n\n        if (this.dateView == \"days\") {\n\n            for (let d = 1; d <= 33; d++) {\n                tmpDate.setUTCDate(d);\n                tmpDate.setUTCHours(0, 0, 0, 0);\n                this.dateValues.push({\n                    id: d,\n                    label: d,\n                    sublabel: this.intl.dateFormat(tmpDate, weekdayNarrowFormat),\n                    checked: (this.value.getUTCFullYear() == tmpDate.getUTCFullYear() && this.value.getUTCMonth() == tmpDate.getUTCMonth() && this.value.getUTCDate() == d),\n                    hidden: tmpDate.getUTCMonth() != this.dateViewValue.getUTCMonth()\n                });\n            }\n\n        } else if (this.dateView == \"months\") {\n\n            let tmpDate = new Date(Date.UTC(1999, this.dateViewValue.getUTCMonth()));\n\n            for (let m = 0; m < 12; m++) {\n                tmpDate.setUTCMonth(m);\n\n                this.dateValues.push({\n                    id: m,\n                    label: this.intl.dateFormat(tmpDate, monthFormat),\n                    checked: this.value.getUTCFullYear() == this.dateViewValue.getUTCFullYear() && this.value.getUTCMonth() == m\n                });\n            }\n\n        } else if (this.dateView == \"years\") {\n\n            let tmpDate = new Date(this.dateViewValue);\n\n            let yearHundret = Math.floor(tmpDate.getUTCFullYear() / 100) * 100;\n            let yearTens = tmpDate.getUTCFullYear() - yearHundret;\n\n            let yearStart = 0;\n            if (yearTens >= 80) {\n                yearStart = 80;\n            } else if (yearTens >= 60) {\n                yearStart = 60;\n            } else if (yearTens >= 40) {\n                yearStart = 40;\n            } else if (yearTens >= 20) {\n                yearStart = 20;\n            }\n\n            tmpDate.setUTCFullYear(yearHundret + yearStart - 1);\n\n            for (let y = 0; y < 20; y++) {\n                tmpDate.setUTCFullYear(tmpDate.getUTCFullYear() + 1);\n\n                this.dateValues.push({\n                    id: tmpDate.getUTCFullYear(),\n                    label: tmpDate.getUTCFullYear(),\n                    checked: this.value.getUTCFullYear() == tmpDate.getUTCFullYear()\n                });\n            }\n        }\n\n    }\n\n    private generateDateHeader() {\n\n        if (this.dateView == \"days\") {\n            this.dateHeader = this.intl.dateFormat(this.dateViewValue, monthYearFormat);\n        } else if (this.dateView == \"months\") {\n            this.dateHeader = this.dateViewValue.getUTCFullYear() + \"\";\n        } else if (this.dateView == \"years\") {\n\n            let yearHundret = Math.floor(this.dateViewValue.getUTCFullYear() / 100) * 100;\n            let yearTens = this.dateViewValue.getUTCFullYear() - yearHundret;\n\n            let yearStart = 0;\n            if (yearTens >= 80) {\n                yearStart = 80;\n            } else if (yearTens >= 60) {\n                yearStart = 60;\n            } else if (yearTens >= 40) {\n                yearStart = 40;\n            } else if (yearTens >= 20) {\n                yearStart = 20;\n            }\n\n            this.dateHeader = `${yearHundret + yearStart} - ${yearHundret + yearStart + 19}`;\n        }\n\n    }\n\n    get timeVisible(): boolean {\n        return !!this.formatOptions.hour || !!this.formatOptions.hour12 || !!this.formatOptions.minute;\n    }\n\n    get timeHoursFormatted(): string {\n        return this.formatTime(this.value.getUTCHours());\n    }\n\n    set timeHoursFormatted(hours: string) {\n        try {\n            let h = parseInt(hours);\n            if (!isNaN(h)) {\n                this.timeHours = h;\n            } else {\n                this.timeHours = 0;\n            }\n        } catch {\n            this.timeHours = 0;\n        }\n    }\n\n    get timeHours(): number {\n        return this.value.getUTCHours();\n    }\n\n    set timeHours(hours: number) {\n\n        if (hours < 0 || hours > 23) {\n            hours = 0;\n        }\n\n        this.value.setUTCHours(hours);\n        this.dateViewValue.setUTCHours(hours);\n        this.changeDetector.detectChanges();\n    }\n\n    get timeMinutesFormatted(): string {\n        return this.formatTime(this.value.getUTCMinutes());\n    }\n\n    set timeMinutesFormatted(minutes: string) {\n        try {\n            let h = parseInt(minutes);\n            if (!isNaN(h)) {\n                this.timeMinutes = h;\n            } else {\n                this.timeMinutes = 0;\n            }\n        } catch {\n            this.timeMinutes = 0;\n        }\n    }\n\n    get timeMinutes(): number {\n        return this.value.getUTCMinutes();\n    }\n\n    set timeMinutes(minutes: number) {\n\n        if (minutes < 0 || minutes > 59) {\n            minutes = 0;\n        }\n\n        this.value.setUTCMinutes(minutes);\n        this.dateViewValue.setUTCMinutes(minutes);\n        this.changeDetector.detectChanges();\n    }\n\n    formatTime(value: number): string {\n        if (value < 10) {\n            return \"0\" + value;\n        } else {\n            return value + \"\";\n        }\n    }\n\n    todayClicked() {\n        let now = new Date();\n        this.value.setUTCFullYear(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate());\n        this.dateViewValue = new Date(this.value);\n        this.generateDateValues();\n        this.generateDateHeader();\n    }\n\n    cancelClicked() {\n        this.viewController.dismiss();\n    }\n\n    doneClicked() {\n\n        let value = this.value;\n\n        if (this.timezone && this.timezone !== \"UTC\") {\n            value = new Date(value.getTime() - (DateTimezone.timezoneOffset(this.timezone, this.value) * 60 * 1000 * -1));\n        }\n\n        this.viewController.dismiss(new DateTimezone(value, this.timezone), null);\n    }\n\n    async loadTimezones() {\n        this.timezones = new SelectOptions();\n        for (const t of timezones(this.value)) {\n            this.timezones.pushOption(t.id, t.label);\n        }\n    }\n\n    ngOnInit() {\n        this.dateViewValue = new Date(this.value);\n        this.generateDateValues();\n        this.generateDateHeader();\n\n        if (!this.timezoneDisabled) {\n\n            if (this.timezone) {\n                try {\n                    const info = timezoneInfo(this.timezone);\n                    this.timezones = new SelectOptions();\n                    this.timezones.pushOption(info.id, info.label);\n                } catch (error) {\n                    // console.warn(error);\n                }\n            }\n\n            this.loadTimezones();\n        }\n    }\n\n}\n","import {Component, ElementRef, EventEmitter, HostBinding, HostListener, Input, OnChanges, Output, SimpleChanges, ViewChild} from \"@angular/core\";\nimport {ControlValueAccessor, NgControl} from \"@angular/forms\";\nimport {IntlService} from \"@co.mmons/angular-intl\";\nimport {DateTimezone} from \"@co.mmons/js-utils/core\";\nimport {ModalController} from \"@ionic/angular\";\nimport {defaultDateTimeFormat} from \"./default-formats\";\nimport {DateTimePickerOverlay} from \"./overlay\";\n\ntype Value = Date | DateTimezone | number;\n\n@Component({\n    selector: \"ionx-datetime\",\n    template: `\n        <input #nativeInput\n               type=\"text\" \n               class=\"native-input\" \n               readonly [attr.disabled]=\"disabled || null\"\n               [attr.placeholder]=\"placeholder || null\"\n               [attr.value]=\"text || null\"\n               (focus)=\"nativeInputFocused()\" \n               (blur)=\"nativeInputBlured()\"/>\n    `,\n    styleUrls: [\"input.scss\"]\n})\nexport class DateTimePickerInput implements ControlValueAccessor, OnChanges {\n\n    private static currentTimezone() {\n        return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n    }\n\n    constructor(\n        private element: ElementRef<HTMLElement>,\n        private intl: IntlService,\n        private modalController: ModalController,\n        protected control: NgControl\n    ) {\n\n        if (control) {\n            control.valueAccessor = this;\n        }\n    }\n\n    private muteControlOnChange: boolean;\n\n    private _listItem: HTMLIonItemElement;\n\n    private _displayFormat: Intl.DateTimeFormatOptions;\n\n    private _pickerFormat: Intl.DateTimeFormatOptions;\n\n    @ViewChild(\"nativeInput\", {read: ElementRef, static: true})\n    private nativeInput: ElementRef<HTMLElement>;\n\n    private _text: string;\n\n    @HostBinding(\"class.datetime-disabled\")\n    /*private*/ _disabled: boolean;\n\n    private _value: DateTimezone;\n\n    private opened: boolean;\n\n    private controlOnChange: Function;\n\n    private controlOnTouched: Function;\n\n\n    @Input()\n    readonly: boolean;\n\n    @Input() \n    overlayTitle: string;\n\n    @Input()\n    placeholder: string;\n\n    @Output()\n    readonly ionChange: EventEmitter<Value> = new EventEmitter();\n\n    /**\n     * Whether timezone cannot be changed.\n     */\n    @Input()\n    timezoneDisabled: boolean;\n\n    /**\n     * Timezone, that will be set, when new value is picked from picker.\n     */\n    @Input()\n    defaultTimezone: string;\n\n\n    get text() {\n        return this._text;\n    }\n\n    /**\n     * Whether or not the datetime-picker component is disabled.\n     */\n    @Input()\n    get disabled() {\n        return this._disabled;\n    }\n\n    set disabled(disabled: boolean | string) {\n        this._disabled = disabled || disabled == \"true\" ? true : false;\n    }\n\n    private get listItem() {\n\n        if (this._listItem) {\n            return this._listItem;\n        }\n\n        return this._listItem = this.element.nativeElement.closest(\"ion-item\");\n    }\n\n    /**\n     * The display format of the date and time as text that shows\n     * within the item. When the `pickerFormat` input is not used, then the\n     * `displayFormat` is used for both display the formatted text, and determining\n     * the datetime-picker picker's columns.\n     */\n    @Input()\n    set displayFormat(format: Intl.DateTimeFormatOptions) {\n\n        if (typeof format === \"string\") {\n            this._displayFormat = this.intl.findFormatterPredefinedOptions(Intl.DateTimeFormat, format);\n        } else {\n            this._displayFormat = format;\n        }\n    }\n\n    get displayFormat(): Intl.DateTimeFormatOptions {\n        return this._displayFormat;\n    }\n\n    @Input()\n    set pickerFormat(format: Intl.DateTimeFormatOptions) {\n\n        if (typeof format == \"string\") {\n            this._pickerFormat = this.intl.findFormatterPredefinedOptions(Intl.DateTimeFormat, format);\n        } else {\n            this._pickerFormat = format;\n        }\n    }\n\n    get pickerFormat(): Intl.DateTimeFormatOptions {\n        return this._pickerFormat;\n    }\n\n    @Input()\n    set value(value: Value) {\n\n        let changed = false;\n\n        if ((value === undefined || value === null) != (this._value === undefined)) {\n            changed = true;\n        } else if (typeof value === \"number\" && (this._value === undefined || value !== this._value.date.getTime())) {\n            changed = true;\n        } else if (value instanceof Date && (this._value === undefined || value.getTime() !== this._value.date.getTime())) {\n            changed = true;\n        } else if (value instanceof DateTimezone && (this._value === undefined || value.date.getTime() !== this._value.date.getTime() || value.timezone !== this._value.timezone)) {\n            changed = true;\n        }\n\n        if (typeof value === \"number\") {\n            this._value = new DateTimezone(value);\n        } else if (value instanceof Date) {\n            this._value = new DateTimezone(value.getTime());\n        } else if (value instanceof DateTimezone) {\n            this._value = new DateTimezone(new Date(value.date.getTime()), value.timezone === \"current\" ? DateTimePickerInput.currentTimezone() : value.timezone);\n        } else {\n            this._value = undefined;\n        }\n\n        if (changed) {\n            this.ionChange.emit(this.value);\n            this.updateText();\n            this.checkListItemHasValue();\n\n            if (this.controlOnChange && !this.muteControlOnChange) {\n                this.controlOnChange(this.value);\n            }\n        }\n\n        this.muteControlOnChange = false;\n    }\n\n    get value(): Value {\n\n        if (!this._value) {\n            return undefined;\n        }\n\n        return new DateTimezone(new Date(this._value.date.getTime()), this._value.timezone);\n    }\n\n    clearValue() {\n        this.value = undefined;\n\n        if (this.controlOnTouched) {\n            this.controlOnTouched();\n        }\n    }\n\n    hasValue(): boolean {\n        return !!this._value;\n    }\n\n    private checkListItemHasValue() {\n        if (this.listItem) {\n            if (this.hasValue()) {\n                this.listItem.classList.add(\"has-value\")\n            } else {\n                this.listItem.classList.remove(\"has-value\");\n            }\n        }\n    }\n\n    private updateText() {\n\n        if (this.hasValue()) {\n            const options = Object.assign({}, this.displayFormat || defaultDateTimeFormat);\n\n            if (this._value.timezone) {\n                options.timeZone = this._value.timezone;\n\n                if (!options.timeZoneName) {\n                    options.timeZoneName = \"short\";\n                }\n            }\n\n            if (!this._value.timezone) {\n                options.timeZone = \"UTC\";\n                options.timeZoneName = undefined;\n            }\n\n            this._text = this.intl.dateTimeFormat(this._value, options);\n\n        } else {\n            this._text = null;\n        }\n    }\n\n\n    @HostListener(\"click\", [\"$event\"])\n    /*protected*/ clicked(ev: UIEvent) {\n\n        if (ev.detail === 0 || this.disabled || this.readonly) {\n            return;\n        }\n\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        this.open(ev);\n    }\n\n    @HostListener(\"keyup.space\")\n    /*protected*/ keyuped() {\n        this.open(undefined);\n    }\n\n    private async open(event?: Event) {\n\n        if (this.disabled || this.opened || this.readonly ) {\n            return;\n        }\n\n        const formatOptions = this.pickerFormat || this.displayFormat || defaultDateTimeFormat;\n\n        let timezone = this._value ? this._value.timezone : this.defaultTimezone;\n        if (timezone === \"current\") {\n            timezone = DateTimePickerInput.currentTimezone();\n        }\n\n        let value: Date = this._value && this._value.date ? this._value.date : new Date(); {\n            if (!timezone || timezone === \"UTC\") {\n                value = new Date(Date.UTC(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), 0, 0));\n            } else {\n                value = new Date(value.getTime() + (DateTimezone.timezoneOffset(timezone, value) * 60 * 1000 * -1));\n            }\n        }\n\n        let overlayTitle: string = this.overlayTitle;\n        if (this.listItem && !overlayTitle) {\n            let label = this.listItem.querySelector(\"ion-label\");\n            if (label) {\n                overlayTitle = label.innerText;\n            }\n        }\n\n        const overlay = await this.modalController.create({\n            component: DateTimePickerOverlay,\n            componentProps: {\n                formatOptions: formatOptions,\n                value: value,\n                timezone: this._value ? this._value.timezone : (this._value === undefined ? (this.defaultTimezone === \"current\" ? DateTimePickerInput.currentTimezone() : this.defaultTimezone) : undefined),\n                timezoneDisabled: this.timezoneDisabled,\n                title: overlayTitle\n            },\n            backdropDismiss: true, \n            showBackdrop: true\n        });\n\n        overlay.present();\n\n        this.overlayClosed((await overlay.onDidDismiss()).data);\n    }\n\n    private overlayClosed(newValue: DateTimezone) {\n        if (newValue) {\n            this.value = newValue;\n        }\n\n        if (this.controlOnTouched) {\n            this.controlOnTouched();\n        }\n\n        if (this.listItem) {\n            this.listItem.classList.add(\"item-has-focus\");\n            this.nativeInput.nativeElement.focus();\n        }\n    }\n\n\n    public writeValue(value: any): void {\n\n        this.muteControlOnChange = true;\n\n        if (value instanceof Date || value instanceof DateTimezone || typeof value === \"number\") {\n            this.value = value;\n        } else {\n            this.value = undefined;\n        }\n    }\n\n    public registerOnChange(fn: Function): void {\n        this.controlOnChange = fn;\n    }\n\n    public registerOnTouched(fn: Function): void {\n        this.controlOnTouched = fn;\n    }\n\n    public setDisabledState(isDisabled: boolean) {\n        this.disabled = isDisabled;\n    }\n\n    nativeInputFocused() {\n\n        if (this.listItem) {\n            if (!this.listItem.classList.contains(\"item-has-focus\")) {\n                this.listItem.classList.add(\"item-has-focus\");\n\n                // if (!this.hasValue()) {\n                //     this.open();\n                // }\n            }\n        }\n    }\n\n    nativeInputBlured() {\n        if (this.listItem) {\n            this.listItem.classList.remove(\"item-has-focus\");\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n\n        if (changes[\"displayFormat\"]) {\n            this.updateText();\n        }\n\n        if (changes[\"readonly\"] || changes[\"disabled\"]) {\n            this.setupCss();\n        }\n    }\n\n    ngOnInit() {\n        this.updateText();\n        this.setupCss();\n    }\n\n    private setupCss() {\n\n        if (this.listItem) {\n            this.listItem.classList.add(\"item-input\");\n\n            if (this.readonly || this._disabled) {\n                this.listItem.classList.remove(\"item-interactive\");\n            } else {\n                this.listItem.classList.add(\"item-interactive\");\n            }\n        }\n    }\n\n    ngAfterContentChecked() {\n        //this.setItemInputControlCss();\n    }\n\n    // private setItemInputControlCss() {\n    //     let item = this.item;\n    //     if (item && this.control) {\n    //         this.setControlCss(item, this.control);\n    //     }\n    // }\n\n    // private setControlCss(element: any, control: NgControl) {\n    //     element.setElementClass(\"ng-untouched\", control.untouched);\n    //     element.setElementClass(\"ng-touched\", control.touched);\n    //     element.setElementClass(\"ng-pristine\", control.pristine);\n    //     element.setElementClass(\"ng-dirty\", control.dirty);\n    //     element.setElementClass(\"ng-valid\", control.valid);\n    //     element.setElementClass(\"ng-invalid\", !control.valid && control.enabled);\n    // }\n\n\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {SelectModule} from \"../select/index\";\nimport {DateTimePickerInput} from \"./input\";\nimport {DateTimePickerOverlay} from \"./overlay\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule} from \"@angular/forms\";\nimport {IntlModule} from \"@co.mmons/angular-intl\";\n\nexport {DateTimePickerInput} from \"./input\";\n\n@NgModule({\n    declarations: [DateTimePickerInput, DateTimePickerOverlay],\n    entryComponents: [DateTimePickerOverlay],\n    exports: [DateTimePickerInput],\n    imports: [CommonModule, FormsModule, IonicModule, IntlModule, SelectModule]\n})\nexport class DateTimePickerModule {\n}\n","export const dialogData = Symbol();\n","export const dialogInstance = Symbol();\n","import {\n    ChangeDetectionStrategy, ChangeDetectorRef,\n    Component,\n    ComponentFactoryResolver,\n    ComponentRef,\n    ElementRef,\n    EventEmitter,\n    Injector,\n    Input,\n    OnDestroy,\n    OnInit,\n    Type,\n    ViewChild,\n    ViewContainerRef\n} from \"@angular/core\";\nimport {DomSanitizer, SafeHtml} from \"@angular/platform-browser\";\nimport {ModalController} from \"@ionic/angular\";\nimport {DialogButton} from \"./dialog-button\";\nimport {dialogData} from \"./dialog-data-symbol\";\nimport {dialogInstance} from \"./dialog-instance-symbol\";\nimport {DialogMessageComponent} from \"./dialog-message-component\";\nimport {DialogOptions} from \"./dialog-options\";\n\n@Component({\n    selector: \"ionx-dialog\",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    templateUrl: \"dialog.html\",\n    styleUrls: [\"dialog.scss\"]\n})\nexport class Dialog implements OnInit, OnDestroy, DialogOptions {\n\n    constructor(\n        private injector: Injector,\n        private sanitizer: DomSanitizer,\n        public elementRef: ElementRef<HTMLElement>,\n        private modalController: ModalController,\n        protected resolver: ComponentFactoryResolver,\n        private changeDetectorRef: ChangeDetectorRef\n    ) {}\n\n    messageText: SafeHtml;\n\n    messageComponent: ComponentRef<any>;\n\n    @ViewChild(\"messageComponentContainer\", {read: ViewContainerRef, static: true})\n    private messageComponentContainer: ViewContainerRef;\n\n    @Input()\n    header: string;\n\n    _buttons: DialogButton[];\n\n    @Input()\n    set buttons(buttons: DialogButton[]) {\n        this._buttons = buttons;\n        this.changeDetectorRef.detectChanges();\n    }\n\n    get buttons(): DialogButton[] {\n        return this._buttons;\n    }\n\n    readonly didLoad: EventEmitter<any> = new EventEmitter();\n\n    @Input()\n    set message(message: string | ComponentRef<any> | Type<any> | [Type<any>, {[param: string]: any}]) {\n\n        if (typeof message === \"string\") {\n            this.messageText = this.sanitizer.bypassSecurityTrustHtml(message);\n\n            if (this.messageComponent) {\n                this.messageComponent.destroy();\n            }\n\n            this.messageComponent = undefined;\n\n        } else if (message) {\n            this.messageText = undefined;\n\n            this.messageComponentContainer.clear();\n\n            if (!(message instanceof ComponentRef)) {\n\n                let type: Type<any>;\n                let params: {[param: string]: any};\n\n                if (Array.isArray(message)) {\n                    type = message.length >= 1 ? message[0] : undefined;\n                    params = message.length >= 2 ? message[1] : undefined;\n                } else {\n                    type = message;\n                }\n\n                message = this.resolver.resolveComponentFactory(type).create(this.injector);\n\n                if (params) {\n                    for (const param of Object.keys(params)) {\n                        message.instance[param] = params[param];\n                    }\n                }\n            }\n\n            this.messageComponent = message;\n            this.messageComponent.instance[dialogInstance] = this;\n\n            this.messageComponentContainer.insert(this.messageComponent.hostView);\n        }\n\n    }\n\n    /*private*/ buttonClicked(button: DialogButton) {\n\n        const value = this.messageComponent && this.messageComponent.instance[dialogData] ? (<DialogMessageComponent>this.messageComponent.instance)[dialogData]() : undefined;\n\n        if (button.handler) {\n            const res = button.handler(value);\n\n            if ((typeof res === \"boolean\" && res) || typeof res !== \"boolean\") {\n                this.modalController.dismiss(value, button.role);\n            }\n\n            return;\n\n        } else {\n            this.modalController.dismiss(button.role !== \"cancel\" ? value : undefined, button.role);\n        }\n    }\n\n    ngOnDestroy(): void {\n\n        if (this.messageComponent) {\n            this.messageComponent.instance[dialogInstance] = undefined;\n            this.messageComponent.destroy();\n        }\n    }\n\n    ngOnInit(): void {\n        const modal = this.elementRef.nativeElement.closest(\"ion-modal\");\n\n        modal.style.setProperty(\"--width\", \"300px\");\n        modal.style.setProperty(\"--height\", \"auto\");\n        modal.style.setProperty(\"--max-width\", \"90%\");\n        modal.style.setProperty(\"--max-height\", \"90%\");\n\n        if (document.querySelector(\"html.ios\")) {\n            modal.style.setProperty(\"--border-radius\", \"10px\");\n        } else {\n            modal.style.setProperty(\"--border-radius\", \"4px\");\n            modal.style.setProperty(\"--box-shadow\", \"0 28px 48px rgba(0,0,0,0.4)\");\n        }\n    }\n\n    ionViewDidEnter() {\n        const input = this.elementRef.nativeElement.querySelector(\"input\");\n        if (input) {\n            input.focus();\n        }\n    }\n}\n","import {Injectable} from \"@angular/core\";\nimport {ModalController} from \"@ionic/angular\";\nimport {Dialog} from \"./dialog\";\nimport {DialogOptions} from \"./dialog-options\";\n\n@Injectable()\nexport class DialogController {\n\n    constructor(protected modalController: ModalController) {\n    }\n\n    async create(options: DialogOptions) {\n\n        return this.modalController.create(Object.assign({}, options, {\n            component: Dialog,\n            componentProps: {\n                header: options.header,\n                message: options.message,\n                buttons: options.buttons\n            }\n        }));\n    }\n\n    /**\n     * When `id` is not provided, it dismisses the top overlay.\n     */\n    dismiss(data?: any, role?: string, id?: string) {\n        return this.modalController.dismiss(data, role, id);\n    }\n\n}\n\n\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IntlModule} from \"@co.mmons/angular-intl\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {ButtonsModule} from \"../buttons/index\";\nimport {Dialog} from \"./dialog\";\nimport {DialogController} from \"./dialog-controller\";\n\nexport {Dialog} from \"./dialog\";\nexport {DialogButton} from \"./dialog-button\";\nexport {DialogController} from \"./dialog-controller\";\nexport {dialogData} from \"./dialog-data-symbol\";\nexport {dialogInstance} from \"./dialog-instance-symbol\";\n\n@NgModule({\n    declarations: [Dialog],\n    imports: [IntlModule, IonicModule, CommonModule, ButtonsModule],\n    entryComponents: [Dialog],\n    providers: [DialogController]\n})\nexport class DialogModule {\n}\n","import {Component} from \"@angular/core\";\n\n@Component({\n    template: \"\",\n    styleUrls: [\"expanding-searchbar.scss\"]\n})\nexport class ExpandingSearchbarStyles {\n}\n","import {ApplicationRef, ComponentFactoryResolver, Directive, ElementRef, Injector, Input} from \"@angular/core\";\nimport {unsubscribe} from \"@co.mmons/rxjs-utils\";\nimport {IonSearchbar} from \"@ionic/angular\";\nimport {Subscription} from \"rxjs\";\nimport {ExpandingSearchbarStyles} from \"./expanding-searchbar-styles\";\n\nconst expandedCssClass = \"ionx-expanding-searchbar-expanded\";\nconst parentCssClass = \"ionx-expanding-searchbar-parent\";\n\nlet stylesInjected = false;\n\n@Directive({\n    selector: \"ion-searchbar[ionx-expanding-searchbar]\",\n    exportAs: \"ionxExpandingSearchbar\"\n})\nexport class ExpandingSearchbar {\n\n    constructor(\n        injector: Injector,\n        resolver: ComponentFactoryResolver,\n        private appRef: ApplicationRef,\n        private element: ElementRef<HTMLIonSearchbarElement>,\n        private searchbar: IonSearchbar) {\n\n        if (!stylesInjected) {\n            let styles = resolver.resolveComponentFactory(ExpandingSearchbarStyles).create(injector);\n            this.appRef.attachView(styles.hostView);\n        }\n    }\n\n    private subscriptions: Subscription[] = [];\n\n    get parentElement() {\n\n        let parent = this.element.nativeElement.parentElement;\n        if (parent) {\n            return parent;\n        }\n    }\n\n    @Input(\"ionx-expanded\")\n    public get expanded(): boolean {\n        return this.element.nativeElement.classList.contains(expandedCssClass);\n    }\n\n    public set expanded(expanded: boolean) {\n        this.parentElement;\n\n        if (expanded) {\n            this.element.nativeElement.classList.add(expandedCssClass);\n            this.parentElement.classList.add(parentCssClass);\n            this.searchbar.setFocus();\n\n        } else {\n            this.element.nativeElement.classList.remove(expandedCssClass);\n            this.parentElement.classList.remove(parentCssClass);\n            //this.searchbar.value = \"\";\n            setTimeout(() => (this.element.nativeElement.querySelector(\".searchbar-input\") as HTMLElement).blur(), 50);\n        }\n    }\n\n    public expand() {\n        this.expanded = true;\n    }\n\n    collapseIfPossible(cleared?: boolean) {\n\n        if (this.expanded && (cleared || !this.searchbar.value)) {\n            setTimeout(() => {\n                this.expanded = false;\n            }, cleared ? 250 : 0);\n        }\n    }\n\n    ngOnInit() {\n        //this.subscriptions.push(this.searchbar.ionBlur.subscribe(() => this.collapseIfPossible()));\n        this.subscriptions.push(this.searchbar.ionClear.subscribe(() => this.collapseIfPossible(true)));\n        this.element.nativeElement.classList.add(\"ionx-expanding-searchbar\");\n    }\n\n    ngOnDestroy() {\n        unsubscribe(this.subscriptions);\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {ExpandingSearchbar} from \"./expanding-searchbar\";\nimport {ExpandingSearchbarStyles} from \"./expanding-searchbar-styles\";\n\nexport {ExpandingSearchbar} from \"./expanding-searchbar\";\n\n@NgModule({\n    declarations: [ExpandingSearchbar, ExpandingSearchbarStyles],\n    exports: [ExpandingSearchbar],\n    imports: [IonicModule]\n})\nexport class ExpandingSearchbarModule {\n}\n","import {Component, HostBinding, Input} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-form-heading\",\n    template: `\n        <ng-content select=\"ion-item\"></ng-content>\n        <div ionx--under>\n            <ng-content></ng-content>\n        </div>\n    `,\n    styleUrls: [\"heading.scss\"]\n})\nexport class FormHeading {\n\n    constructor() {\n    }\n\n    @HostBinding(\"attr.sticky\")\n    @Input()\n    sticky: boolean;\n}\n","function findParentImpl(element: HTMLElement): HTMLElement {\n\n    if (!element) {\n        return;\n    }\n\n    if (element.scrollHeight >= element.clientHeight) {\n        const overflowY = window.getComputedStyle(element).overflowY;\n        if (overflowY !== \"visible\" && overflowY !== \"hidden\") {\n            return element;\n        }\n    }\n\n    if (element.assignedSlot) {\n        let p = findParentImpl(element.assignedSlot.parentElement);\n        if (p) {\n            return p;\n        }\n    }\n\n    return findParentImpl(element.parentElement);\n}\n\nexport function scrollIntoView(element: HTMLElement, scrollBehavior?: ScrollBehavior) {\n    let parent = findParentImpl(element);\n\n    if (parent) {\n\n        let top = element.offsetTop;\n\n        if (element.offsetParent) {\n            let offsetParent = element.offsetParent as HTMLElement;\n            while (offsetParent !== parent && !!offsetParent) {\n                top += offsetParent.offsetTop;\n                offsetParent = offsetParent.offsetParent as HTMLElement;\n            }\n        }\n\n        parent.scrollTo({top: top, behavior: scrollBehavior});\n        return;\n    }\n\n    element.scrollIntoView();\n}\n","import {ContentChildren, Directive, ElementRef, Input, Optional, QueryList} from \"@angular/core\";\nimport {FormControlName, FormGroup, FormGroupDirective, NgForm} from \"@angular/forms\";\nimport {scrollIntoView} from \"../scroll/scroll-into-view\";\n\n@Directive({\n    selector: \"[ionx-form-helper], [ionxFormHelper]\",\n    exportAs: \"ionxFormHelper\"\n})\nexport class FormHelper {\n\n    constructor(public readonly element: ElementRef, @Optional() public readonly ngForm: NgForm, @Optional() private readonly formGroupDirective: FormGroupDirective) {\n    }\n\n    @Input()\n    public get readonly(): boolean {\n        return this.element.nativeElement.hasAttribute(\"readonly\");\n    }\n\n    public set readonly(readonly: boolean) {\n        if (readonly) {\n            this.element.nativeElement.setAttribute(\"readonly\", \"\");\n        } else {\n            this.element.nativeElement.removeAttribute(\"readonly\");\n        }\n    }\n\n    public markAsReadonly() {\n        this.readonly = true;\n    }\n\n    @Input()\n    public get busy(): boolean {\n        return this.element.nativeElement.hasAttribute(\"busy\");\n    }\n\n    public set busy(busy: boolean) {\n        if (busy) {\n            this.element.nativeElement.setAttribute(\"busy\", \"\");\n        } else {\n            this.element.nativeElement.removeAttribute(\"busy\");\n        }\n    }\n\n    public markAsBusy() {\n        this.busy = true;\n    }\n\n    @ContentChildren(FormControlName, {descendants: true})\n    protected readonly contentControls: QueryList<FormControlName>;\n\n    public formControlName(name: string): FormControlName {\n\n        for (let a of this.contentControls.toArray()) {\n            if (a.name == name) {\n                return a;\n            }\n        }\n    }\n\n    public get formGroup(): FormGroup {\n        return this.formGroupDirective ? this.formGroupDirective.form : undefined;\n    }\n\n    public validateAll(markAs: \"touched\" | \"dirty\" = \"touched\") {\n\n        if (!this.formGroupDirective) {\n            return;\n        }\n\n        for (let controlName in this.formGroup.controls) {\n            let control = this.formGroup.controls[controlName];\n\n            if (markAs == \"touched\") {\n                control.markAsTouched();\n            }\n\n            if (markAs == \"dirty\") {\n                control.markAsDirty();\n            }\n\n            control.updateValueAndValidity();\n        }\n\n        for (let control of this.contentControls.toArray()) {\n            if (!control.valid) {\n                this.focusImpl(control);\n                break;\n            }\n        }\n    }\n\n    private focusImpl(control: string | any, scroll: boolean = true) {\n\n        if (typeof control == \"string\" && this.formGroupDirective) {\n            for (let c of this.formGroupDirective.directives) {\n                if (c.name == control) {\n                    control = c;\n                    break;\n                }\n            }\n        }\n\n        let element: HTMLElement;\n\n        if (control instanceof FormControlName) {\n            control = control.valueAccessor;\n        }\n\n        if (control[\"el\"] instanceof ElementRef) {\n            element = control[\"el\"].nativeElement;\n        }\n\n        if (control[\"_elementRef\"] instanceof ElementRef) {\n            element = control[\"_elementRef\"].nativeElement;\n        }\n\n        // element to focus\n        if (element) {\n\n            if (element[\"setFocus\"]) {\n                element[\"setFocus\"]();\n\n            } else {\n\n                let focusable = element;\n\n                let realInput = (element.shadowRoot && element.shadowRoot.querySelector(\".native-input\")) || element.querySelector(\".native-input\");\n                if (realInput) {\n                    focusable = realInput as HTMLElement;\n                }\n\n                focusable.focus();\n            }\n        }\n\n        if (scroll && element) {\n            scrollIntoView(element.closest(\"ion-item\") as HTMLElement || element);\n        }\n    }\n\n    public focus(formControlName: string, scrollIntoView: boolean = true) {\n        this.focusImpl(formControlName, scrollIntoView);\n    }\n}\n","import {Component} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-form-item\",\n    template: `<ng-content select=\"ion-item\"></ng-content><ng-content select=\"ionx-form-item-error\"></ng-content><ng-content select=\"ionx-form-item-hint\"></ng-content><ng-content></ng-content>`\n})\nexport class FormItem {\n\n}\n","import {Component, Input} from \"@angular/core\";\nimport {AbstractControl, FormGroupDirective} from \"@angular/forms\";\n\n@Component({\n    selector: \"ionx-form-item-error\",\n    template: `\n        <ion-icon [name]=\"icon\" *ngIf=\"!!icon\"></ion-icon>\n        <label>\n            <ng-template [ngIf]=\"_control\">{{_control | intlValidationErrorMessage}}</ng-template>\n            <ng-content></ng-content>\n        </label>\n    `,\n    styleUrls: [\"item-error-item-hint.scss\", \"item-error.scss\"],\n    host: {\n        \"[class.ionx--visible]\": \"!_control || !!(_control.invalid && _control[markedAs])\"\n    }\n})\nexport class FormItemError {\n\n    constructor(private formGroup: FormGroupDirective) {\n    }\n\n    @Input()\n    icon: string;\n\n    @Input()\n    markedAs: \"touched\" | \"dirty\" = \"touched\";\n\n    _control: AbstractControl;\n\n    @Input()\n    set control(control: AbstractControl | string) {\n        if (control instanceof AbstractControl) {\n            this._control = control;\n        } else if (control) {\n            this._control = this.formGroup.form.controls[control];\n        }\n    }\n\n}\n","import {Component, ComponentRef, Input, ViewChild, ViewContainerRef} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-form-item-hint\",\n    styleUrls: [\"item-error-item-hint.scss\", \"item-hint.scss\"],\n    template: `\n        <ion-icon [name]=\"icon\" *ngIf=\"icon\"></ion-icon>\n        <label>\n            <template #labelComponentContainer></template>\n            <ng-content></ng-content>\n        </label>\n    `\n    })\nexport class FormItemHint {\n\n    constructor() {\n    }\n\n    @Input()\n    icon: string;\n\n    @ViewChild(\"labelComponentContainer\", {read: ViewContainerRef, static: true})\n    private labelComponentContainer: ViewContainerRef;\n\n    @Input()\n    set label(label: ComponentRef<any>) {\n        this.labelComponentContainer.clear();\n        this.labelComponentContainer.insert(label.hostView);\n    }\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {MatchMediaModule} from \"@co.mmons/angular-extensions/browser/match-media\";\nimport {IntlModule} from \"@co.mmons/angular-intl\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {FormHeading} from \"./heading\";\nimport {FormHelper} from \"./helper\";\nimport {FormItem} from \"./item\";\nimport {FormItemError} from \"./item-error\";\nimport {FormItemHint} from \"./item-hint\";\n\nexport * from \"./heading\";\nexport * from \"./helper\";\nexport * from \"./item\";\nexport * from \"./item-error\";\nexport * from \"./item-hint\";\n\n@NgModule({\n    declarations: [FormItem, FormHeading, FormItemError, FormItemHint, FormHelper],\n    imports: [CommonModule, FormsModule, IonicModule, IntlModule, MatchMediaModule],\n    exports: [FormItem, FormItemError, FormItemHint, FormHeading, FormHelper]\n})\nexport class FormHelperModule {\n}","import { LazyLoadOptions } from \"./lazy-load-options\";\n\nconst defaultOptions: LazyLoadOptions = {\n    selector: \"img\",\n    container: window,\n    scroll: null,\n    threshold: 300,\n    throttle: 150,\n    dataSrc: \"original\",\n    dataSrcSet: \"original-set\",\n    dataAlternate: \"alternate\",\n    classLoading: \"ionx-lazy-image-loading\",\n    classLoaded: \"ionx-lazy-image-loaded\",\n    skipInvisible: true,\n    callbackLoad: null,\n    callbackError: null,\n    callbackSet: null,\n    callbackProcessed: null\n};\n\nfunction _isInsideViewport(element, container, threshold) {\n\n    var ownerDocument, documentTop, documentLeft;\n\n    function _getDocumentWidth() {\n        return window.innerWidth || (ownerDocument.documentElement.clientWidth || document.body.clientWidth);\n    }\n\n    function _getDocumentHeight() {\n        return window.innerHeight || (ownerDocument.documentElement.clientHeight || document.body.clientHeight);\n    }\n\n    function _getTopOffset(element) {\n        return element.getBoundingClientRect().top + documentTop - ownerDocument.documentElement.clientTop;\n    }\n\n    function _getLeftOffset(element) {\n        return element.getBoundingClientRect().left + documentLeft - ownerDocument.documentElement.clientLeft;\n    }\n\n    function _isBelowViewport() {\n        var fold;\n        if (container === window) {\n            fold = _getDocumentHeight() + documentTop;\n        } else {\n            fold = _getTopOffset(container) + container.offsetHeight;\n        }\n        return fold <= _getTopOffset(element) - threshold;\n    }\n\n    function _isAtRightOfViewport() {\n        var fold;\n        if (container === window) {\n            fold = _getDocumentWidth() + window.pageXOffset;\n        } else {\n            fold = _getLeftOffset(container) + _getDocumentWidth();\n        }\n        return fold <= _getLeftOffset(element) - threshold;\n    }\n\n    function _isAboveViewport() {\n        var fold;\n        if (container === window) {\n            fold = documentTop;\n        } else {\n            fold = _getTopOffset(container);\n        }\n        return fold >= _getTopOffset(element) + threshold + element.offsetHeight;\n    }\n\n    function _isAtLeftOfViewport() {\n        var fold;\n        if (container === window) {\n            fold = documentLeft;\n        } else {\n            fold = _getLeftOffset(container);\n        }\n        return fold >= _getLeftOffset(element) + threshold + element.offsetWidth;\n    }\n\n    ownerDocument = element.ownerDocument;\n    documentTop = window.pageYOffset || ownerDocument.body.scrollTop;\n    documentLeft = window.pageXOffset || ownerDocument.body.scrollLeft;\n\n    return !_isBelowViewport() && !_isAboveViewport() && !_isAtRightOfViewport() && !_isAtLeftOfViewport();\n}\n\nfunction _now() {\n    var d = new Date();\n    return d.getTime();\n}\n\n\nfunction _convertToArray(nodeSet) {\n    return Array.prototype.slice.call(nodeSet);\n}\n\nfunction setSourcesForPicture(element, srcsetDataAttribute) {\n\n    let parent = element.parentElement;\n    if (parent.tagName !== 'PICTURE') {\n        return;\n    }\n\n    for (let i = 0; i < parent.children.length; i++) {\n        let pictureChild = parent.children[i];\n        if (pictureChild.tagName === 'SOURCE') {\n            let sourceSrcset = pictureChild.getAttribute('data-' + srcsetDataAttribute);\n            if (sourceSrcset) {\n                pictureChild.setAttribute('srcset', sourceSrcset);\n            }\n        }\n    }\n}\n\n/**\n * Sets sources (e.g. src) for lazy load element.\n * @param element Element, whose image to be loaded.\n * @param srcsetDataAttribute \n * @param srcDataAttribute \n */\nfunction setSources(element, srcsetDataAttribute, srcDataAttribute) {\n\n    let tagName = element.tagName.toUpperCase();\n    let elementSrc = element.getAttribute(\"data-\" + srcDataAttribute);\n    \n    if (tagName === \"IFRAME\") {\n        \n        if (elementSrc) {\n            element.setAttribute(\"src\", elementSrc);\n        }\n\n        return;\n\n    } else {\n        \n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n        }\n\n        let dataTarget = element;\n        if (element[\"__ionxLazyImageTmpImg\"]) {\n            dataTarget = element[\"__ionxLazyImageTmpImg\"];\n        }\n\n        let imgSrcSet = element.getAttribute(\"data-\" + srcsetDataAttribute);\n        if (imgSrcSet) {\n            dataTarget.setAttribute(\"srcset\", imgSrcSet);\n        }\n\n        if (elementSrc) {\n            dataTarget.setAttribute(\"src\", elementSrc);\n        }\n\n        return;\n    }\n    //if (elementSrc) element.style.backgroundImage = \"url(\" + elementSrc + \")\";\n}\n\nfunction _bind(fn, obj) {\n    return function () {\n        return fn.apply(obj, arguments);\n    };\n}\n\nvar instanceCounter = 0;\nvar instances: {[instanceId: string]: LazyLoad} = {};\n\n\nexport class LazyLoad {\n\n    constructor(options?: LazyLoadOptions) {\n\n        this.id = (++instanceCounter) + \"\";\n        instances[this.id] = this;\n\n        this._options = Object.assign({}, defaultOptions, options);\n        this._queryOriginNode = this._options.container === window ? document : <HTMLElement|Document>this._options.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n\n        this._handleScrollFn = _bind(this.handleScroll, this);\n\n        window.addEventListener(\"resize\", this._handleScrollFn);\n        this.update();\n    }\n\n    private id: string;\n\n    private _options: LazyLoadOptions;\n\n    private _queryOriginNode: HTMLElement | Document;\n\n    private _previousLoopTime: number;\n\n    private _loopTimeout: any;\n\n    private _handleScrollFn: any;\n\n    private _elements: Array<HTMLElement & ExtendedHtmlElement>;\n\n\n    get container(): HTMLElement | Document {\n        return this._queryOriginNode;\n    }\n\n\n    private _showOnAppear(element: HTMLElement & ExtendedHtmlElement) {\n\n        let errorCallback = () => {\n\n            let eventTarget = element;\n\n            if (element[\"__ionxLazyImageTmpImg\"]) {\n                eventTarget = element[\"__ionxLazyImageTmpImg\"];\n            }\n\n            let alternate = this._options.dataAlternate && element.getAttribute(\"data-\" + this._options.dataAlternate);\n            if (alternate && eventTarget[\"src\"] != alternate) {\n                eventTarget[\"src\"] = alternate;\n                return;\n            }\n\n            delete element[\"__ionxLazyImageTmpImg\"];\n\n            eventTarget.removeEventListener(\"load\", loadCallback);\n            eventTarget.removeEventListener(\"error\", errorCallback);\n            element.classList.remove(this._options.classLoading);\n            element.lazyLoadError = true;\n\n            if (this._options.callbackError) {\n                this._options.callbackError.callback_error(element);\n            }\n        }\n\n        let loadCallback = () => {\n\n            /* As this method is asynchronous, it must be protected against external destroy() calls */\n            if (this._options === null) {\n                return;\n            }\n            \n            let eventTarget: any = element;\n            \n            // if target element is not <img>, the real target of onload callback is temporary image\n            if (element[\"__ionxLazyImageTmpImg\"]) {\n                eventTarget = element[\"__ionxLazyImageTmpImg\"];\n                element.style.backgroundImage = `url(${eventTarget.src})`;\n                delete element[\"__ionxLazyImageTmpImg\"];\n            }\n\n            element.lazyLoadError = false;\n\n            if (this._options.callbackLoad) {\n                this._options.callbackLoad(element);\n            }\n\n            element.classList.remove(this._options.classLoading);\n            element.classList.add(this._options.classLoaded);\n            eventTarget.removeEventListener(\"load\", loadCallback);\n            eventTarget.removeEventListener(\"error\", errorCallback);\n        }\n\n        element.classList.add(this._options.classLoading);\n\n        if (element.tagName.toUpperCase() === \"IMG\" || element.tagName.toUpperCase() === \"IFRAME\") {\n            element.addEventListener(\"load\", loadCallback);\n            element.addEventListener(\"error\", errorCallback);\n        } else {\n            let tmpImg = new Image();\n            tmpImg.addEventListener(\"load\", loadCallback);\n            tmpImg.addEventListener(\"error\", errorCallback);\n            element[\"__ionxLazyImageTmpImg\"] = tmpImg;\n        }\n\n        setSources(element, this._options.dataSrcSet, this._options.dataSrc);\n\n        if (this._options.callbackSet) {\n            this._options.callbackSet(element);\n        }\n    }\n\n    private _loopThroughElements() {\n        \n        let elementsLength = (!this._elements) ? 0 : this._elements.length;\n        let processedIndexes = [];\n\n        for (let i = 0; i < elementsLength; i++) {\n            let element = this._elements[i];\n\n            /* If must skip_invisible and element is invisible, skip it */\n            if (this._options.skipInvisible && (element.offsetParent === null)) {\n                continue;\n            }\n\n            if (_isInsideViewport(element, this._options.container, this._options.threshold)) {\n                this._showOnAppear(element);\n\n                /* Marking the element as processed. */\n                processedIndexes.push(i);\n                element.lazyLoadProcessed = true;\n            }\n        }\n\n        /* Removing processed elements from this._elements. */\n        while (processedIndexes.length > 0) {\n            this._elements.splice(processedIndexes.pop(), 1);\n\n            if (this._options.callbackProcessed) {\n                this._options.callbackProcessed(this._elements.length);\n            }\n        }\n\n        /* Stop listening to scroll event when 0 elements remains */\n        if (elementsLength === 0) {\n            this._stopScrollHandler();\n        }\n    };\n\n    private _purgeElements() {\n        let elementsToPurge = [];\n\n        for (let i = 0; i < this._elements.length; i++) {\n            let element = this._elements[i];\n\n            /* If the element has already been processed, skip it */\n            if (element.lazyLoadProcessed) {\n                elementsToPurge.push(i);\n            }\n        }\n\n        /* Removing elements to purge from this._elements. */\n        while (elementsToPurge.length > 0) {\n            this._elements.splice(elementsToPurge.pop(), 1);\n        }\n    };\n\n    private _isHandlingScroll: boolean;\n\n    private _startScrollHandler() {\n        if (!this._isHandlingScroll) {\n            this._isHandlingScroll = true;\n            this._options.container.addEventListener(\"scroll\", this._handleScrollFn);\n            if (this._options.scroll) {\n                this._options.scroll.addEventListener(\"scroll\", this._handleScrollFn);\n            }\n        }\n    };\n\n    private _stopScrollHandler() {\n        if (this._isHandlingScroll) {\n            this._isHandlingScroll = false;\n            this._options.container.removeEventListener(\"scroll\", this._handleScrollFn);\n            if (this._options.scroll) {\n                this._options.scroll.removeEventListener(\"scroll\", this._handleScrollFn);\n            }\n        }\n    };\n\n\n    public handleScroll() {\n        var remainingTime,\n            now,\n            throttle;\n\n        // IE8 fix for destroy() malfunctioning\n        if (!this._options) {\n            return;\n        }\n\n        now = _now();\n        throttle = this._options.throttle;\n\n        if (throttle !== 0) {\n            remainingTime = throttle - (now - this._previousLoopTime);\n            if (remainingTime <= 0 || remainingTime > throttle) {\n                if (this._loopTimeout) {\n                    clearTimeout(this._loopTimeout);\n                    this._loopTimeout = null;\n                }\n                this._previousLoopTime = now;\n                this._loopThroughElements();\n            } else if (!this._loopTimeout) {\n                this._loopTimeout = setTimeout(_bind(function () {\n                    this._previousLoopTime = _now();\n                    this._loopTimeout = null;\n                    this._loopThroughElements();\n                }, this), remainingTime);\n            }\n        } else {\n            this._loopThroughElements();\n        }\n    };\n\n    public update(options?: {retryError?: boolean}) {\n\n        this._elements = _convertToArray(this._queryOriginNode.querySelectorAll(this._options.selector));\n        if (options && options.retryError) {\n            for (let element of this._elements) {\n                if (element.lazyLoadProcessed && element.lazyLoadError) {\n                    element.lazyLoadProcessed = false;\n                }\n            }\n        }\n\n        this._purgeElements();\n        this._loopThroughElements();\n        this._startScrollHandler();\n    }\n\n    public destroy() {\n        window.removeEventListener(\"resize\", this._handleScrollFn);\n        if (this._loopTimeout) {\n            clearTimeout(this._loopTimeout);\n            this._loopTimeout = null;\n        }\n        this._stopScrollHandler();\n        this._elements = null;\n        this._queryOriginNode = null;\n        this._options = null;\n        \n        delete instances[this.id];\n    }\n\n}\n\nexport async function ensureLazyImagesLoaded(root: HTMLElement, options?: {retryError?: boolean}) {\n\n    for (let instanceId in instances) {\n        let loader: LazyLoad = instances[instanceId];\n        let container = loader.container;\n\n        if (root === container) {\n            loader.update({retryError: options && options.retryError});\n        } else {\n\n            let parent = container.parentElement;\n            while (parent && parent !== root) {\n                parent = parent.parentElement;\n            }\n\n            if (parent) {\n                loader.update({retryError: options && options.retryError});\n            }\n        }\n    }\n}\n\n\ninterface ExtendedHtmlElement {\n    lazyLoadProcessed?: boolean;\n    lazyLoadError?: boolean;\n}","import {Directive, Input, ElementRef} from \"@angular/core\";\nimport {ensureLazyImagesLoaded} from \"../lazy-image/lazy-load\";\n\nexport interface ImageLoaderStateCssClasses {\n\tloaded?: string;\n\tloading?: string;\n\terror?: string;\n}\n\n@Directive({\n\tselector: \"[ionx-image-loader]\",\n\thost: {\n\t\t\"[attr.ionx-image-loader]\": \"true\"\n\t}\n})\nexport class ImageLoader {\n\n\tconstructor(private element: ElementRef<HTMLElement>) {\n\t}\n\n\tprivate _src: string;\n\n\tprivate _alternate: string;\n\n\tloaded: boolean;\n\n\tloading: boolean;\n\n\terror: boolean;\n\n\t//@ts-ignore\n\tprivate tmpImg: HTMLImageElement;\n\n\tprivate initialized: boolean;\n\n\t@Input(\"src\")\n\tpublic set src(value: string) {\n\t\tlet old = this._src;\n\t\tthis._src = value;\n\n\t\tif (old != this._src) {\n\t\t\tthis.reload();\n\t\t}\n\t}\n\n\tpublic get src() {\n\t\treturn this._src;\n\t}\n\n\t@Input(\"ionx-image-loader\")\n\tprotected set src2(value: string) {\n\t\tthis.src = value;\n\t}\n\n\t@Input(\"alternate\")\n\tpublic set alternate(value: string) {\n\t\tlet old = this._alternate;\n\t\tthis._alternate = value;\n\n\t\tif (old != this._alternate) {\n\t\t\tthis.reload();\n\t\t}\n\t}\n\n\t@Input(\"ionx-image-loader-alternate\")\n\tprotected set alternate2(value: string) {\n\t\tthis.alternate = value;\n\t}\n\n\tprivate _cssClasses: ImageLoaderStateCssClasses;\n\n\t@Input(\"css-classes\")\n\tpublic set cssClasses(value: ImageLoaderStateCssClasses) {\n\t\tthis._cssClasses = value;\n\t}\n\n\t@Input(\"ionx-image-loader-css-classes\")\n\tprotected set cssClasses2(value: ImageLoaderStateCssClasses) {\n\t\tthis._cssClasses = value;\n\t}\n\n\tprivate _cssClassesTarget: string;\n\n\t@Input(\"css-classes-target\")\n\tpublic set cssClassesTarget(value: string) {\n\t\tthis._cssClassesTarget = value;\n\t}\n\n\t@Input(\"ionx-image-loader-css-classes-target\")\n\tprotected set cssClassesParent(value: string) {\n\t\tthis._cssClassesTarget = value;\n\t}\n\n\treload() {\n\t\tif (!this.loading && this.initialized) {\n\t\t\tthis.loaded = false;\n\t\t\tthis.error = false;\n\n\t\t\tif (this._cssClasses) {\n\n\t\t\t\tlet target = this._cssClassesTarget ? this.element.nativeElement.closest(this._cssClassesTarget) : this.element.nativeElement;\n\n\t\t\t\tif (this._cssClasses.loaded) {\n\t\t\t\t\ttarget.classList.remove(this._cssClasses.loaded);\n\t\t\t\t}\n\n\t\t\t\tif (this._cssClasses.error) {\n\t\t\t\t\ttarget.classList.remove(this._cssClasses.error);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.load();\n\t\t}\n\t}\n\n\tprivate load() {\n\n\t\tif (this.loaded || this.error || !this._src || this.loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.loading = true;\n\t\tif (this._cssClasses && this._cssClasses.loading) {\n\t\t\tthis.element.nativeElement.classList.add(this._cssClasses.loading);\n\t\t}\n\n\t\tlet element: HTMLElement = this.element.nativeElement;\n\t\t\n\t\tlet img: HTMLImageElement;\n\n\t\t// if host element is not <img>, we need to create tmp \n\t\tif (element.tagName.toLowerCase() != \"img\") {\n\t\t\timg = this.tmpImg = new Image();\n\t\t} else {\n\t\t\timg = <any>element;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t\n\t\t\tif (img !== element) {\n\t\t\t\telement.style.backgroundImage = `url(${img.src})`;\n\t\t\t}\n\n\t\t\timg.onerror = undefined;\n\t\t\timg.onload = undefined;\n\n\t\t\tthis.tmpImg = undefined;\n\t\t\tthis.loaded = true;\n\t\t\tthis.loading = false;\n\t\t\tthis.error = false;\n\n\t\t\tif (this._cssClasses) {\n\t\t\t\tlet target = this._cssClassesTarget ? element.closest(this._cssClassesTarget) : element;\n\n\t\t\t\tif (this._cssClasses.loading) {\n\t\t\t\t\ttarget.classList.remove(this._cssClasses.loading);\n\t\t\t\t}\n\n\t\t\t\tif (this._cssClasses.loaded) {\n\t\t\t\t\ttarget.classList.add(this._cssClasses.loaded);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\timg.onerror = () => {\n\n\t\t\tif (this._alternate && this._alternate != img.src) {\n\t\t\t\timg.src = this._alternate;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\timg.onerror = undefined;\n\t\t\timg.onload = undefined;\n\n\t\t\tthis.tmpImg = undefined;\n\t\t\tthis.loading = false;\n\t\t\tthis.loaded = false;\n\t\t\tthis.error = true;\n\n\t\t\tif (this._cssClasses) {\n\t\t\t\tlet target = this._cssClassesTarget ? element.closest(this._cssClassesTarget) : element;\n\n\t\t\t\tif (this._cssClasses.loading) {\n\t\t\t\t\ttarget.classList.remove(this._cssClasses.loading);\n\t\t\t\t}\n\n\t\t\t\tif (this._cssClasses.error) {\n\t\t\t\t\ttarget.classList.add(this._cssClasses.error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\timg.src = this._src;\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.initialized = true;\n\t\tthis.element.nativeElement[\"ionxImageLoader\"] = this;\n\t\tthis.load();\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.element.nativeElement) {\n\t\t\tdelete this.element.nativeElement[\"ionxImageLoader\"];\n\t\t}\n\t}\n\n}\n\nexport async function ensureImagesLoaded(root: HTMLElement, options?: {retryError?: boolean, lazy?: boolean}) {\n\n\tlet images = root.querySelectorAll(\"[ionx-image-loader]\");\n\tfor (let i = 0; i < images.length; i++) {\n\t\tlet image: Element & ImageLoaderElement = images.item(i);\n\n\t\tif (!image.ionxImageLoader || !image.ionxImageLoader.src || image.ionxImageLoader.loaded || (image.ionxImageLoader.error && (!options || !options.retryError))) {\n\t\t\tcontinue;\n\t\t}\n\n\t\timage.ionxImageLoader.reload();\n\t}\n\n\tif (options && options.lazy) {\n\t\tawait ensureLazyImagesLoaded(root, {retryError: options && options.retryError});\n\t}\n}\n\ninterface ImageLoaderElement {\n\tionxImageLoader?: ImageLoader;\n}","import {NgModule} from \"@angular/core\";\nimport {ImageLoader} from \"./image-loader\";\n\nexport {ImageLoader, ensureImagesLoaded} from \"./image-loader\";\n\n@NgModule({\n    declarations: [ImageLoader],\n    exports: [ImageLoader]\n})\nexport class ImageLoaderModule {\n}\n","import {Directive, ElementRef, HostListener, Input} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {IonRouterOutlet, NavController, IonBackButtonDelegate} from \"@ionic/angular\";\n\nIonBackButtonDelegate.prototype.onClick = () => null;\n\n@Directive({\n    selector: \"ion-back-button\"\n})\nexport class IonicBackButtonFix {\n\n    constructor(private router: Router, private routerOutlet: IonRouterOutlet, private navCtrl: NavController, private elementRef: ElementRef) {\n    }\n\n    @Input()\n    set defaultHref(value: string) {\n        this.elementRef.nativeElement.defaultHref = value;\n    }\n    get defaultHref() {\n        return this.elementRef.nativeElement.defaultHref;\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    onClick(ev: Event) {\n\n        if (this.routerOutlet && this.routerOutlet.canGoBack()) {\n            this.navCtrl.back({animated: true});\n            ev.preventDefault();\n            \n        } else if (this.router && this.defaultHref != null) {\n            this.navCtrl.navigateBack(this.defaultHref);\n            ev.preventDefault();\n        }\n    }\n}","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-input[ionfix-input]\"\n})\nexport class IonicInputFix {\n\n    constructor(private element: ElementRef<HTMLIonInputElement>) {\n    }\n\n    @Input(\"tabIndex\")\n    tabIndex: string;\n\n    async ngAfterViewInit() {\n\n        if (this.tabIndex) {\n            this.element.nativeElement.removeAttribute(\"tabIndex\");\n\n            await waitTill(() => !!this.element.nativeElement.shadowRoot && !!this.element.nativeElement.shadowRoot.querySelector(\".native-input\"));\n\n            let realInput = this.element.nativeElement.shadowRoot.querySelector(\".native-input\");\n            realInput.setAttribute(\"tabIndex\", this.tabIndex);\n        }\n    }\n}","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {sleep} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-item[target]\"\n})\nexport class IonicItemTargetFix {\n\n    constructor(private element: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    target: string;\n\n    async ngAfterViewInit() {\n\n        if (this.target) {\n\n            for (let i = 1; i < 20; i++) {\n\n                const a = (this.element.nativeElement.shadowRoot && this.element.nativeElement.shadowRoot.querySelector(\".item-native\")) || undefined;\n\n                if (!a) {\n                    await sleep(i * 100);\n                } else {\n                    a.setAttribute(\"target\", this.target);\n                }\n            }\n        }\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicBackButtonFix} from \"./back-button-fix\";\nimport {IonicInputFix} from \"./input-fix\";\nimport {IonicItemTargetFix} from \"./item-target\";\n\n@NgModule({\n    declarations: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix],\n    exports: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix]\n})\nexport class IonicFixModule {\n}\n","import {ContentChildren, Directive, ElementRef, forwardRef, Inject, Input, Optional, QueryList, Renderer} from \"@angular/core\";\nimport {sleep} from \"@co.mmons/js-utils/core\";\nimport {LazyLoad} from \"./lazy-load\";\nimport {LazyLoadOptions} from \"./lazy-load-options\";\n\n\n@Directive({\n\tselector: \"[ionx-lazy-image]\"\n})\nexport class LazyImage {\n\n\tconstructor(public element: ElementRef, private renderer: Renderer, @Optional() @Inject(forwardRef(() => LazyImageContainer)) private container?: LazyImageContainer) {\n\t}\n\n\t@ContentChildren(LazyImage, {descendants: true})\n\tchildren: QueryList<LazyImage>;\n\n\tprivate _src: string;\n\n\tprivate _alternate: string;\n\n\t@Input(\"ionx-lazy-image\")\n\tpublic set src(value: string) {\n\t\tthis._src = value;\n\t\tthis.reset();\n\t}\n\n\t@Input(\"ionx-lazy-image-alternate\")\n\tpublic set alternate(value: string) {\n\t\tthis._alternate = value;\n\t\tthis.reset();\n\t}\n\n\tprivate reset() {\n\n\t\tif (this._src) {\n\t\t\tthis.renderer.setElementClass(this.element.nativeElement, \"ionx-lazy-image\", true);\n\t\t\tthis.renderer.setElementAttribute(this.element.nativeElement, \"data-original\", this._src);\n\t\t}\n\n\t\tif (this._alternate) {\n\t\t\tthis.renderer.setElementAttribute(this.element.nativeElement, \"data-alternate\", this._alternate);\n\t\t}\n\t}\n\n\tprivate revalidate() {\n\n\t\t// children.length > 1 because this is also included in children query\n\t\tif (this.container && this.children.length > 1) {\n\t\t\tthis.container.revalidate();\n\t\t}\n\t}\n\n\tngAfterContentInit() {\n\t\tthis.children.changes.subscribe(() => this.revalidate());\n\t\tthis.revalidate();\n\t}\n\n}\n\n@Directive({\n\tselector: \"ion-content[ionx-lazy-image], [ionx-lazy-image-container]\"\n})\nexport class LazyImageContainer {\n\n\tconstructor(private element: ElementRef<HTMLElement>) {\n\t}\n\n\tprivate lazyLoad: LazyLoad;\n\n\trevalidate() {\n\n\t\tif (this.lazyLoad) {\n\n\t\t\tthis.lazyLoad.update();\n\n\t\t\tlet rect = this.element.nativeElement.getBoundingClientRect();\n\t\t\tif (rect.width == 0 || rect.height == 0) {\n\t\t\t\t//setTimeout(() => this.revalidate(), 200);\n\t\t\t}\n\t\t\t//console.log(this.children);\n\n\t\t\t//window.dispatchEvent(new Event(\"resize\"));\n\t\t}\n\t}\n\n\t@ContentChildren(LazyImage, {descendants: true})\n\tchildren: QueryList<LazyImage>;\n\n\tngOnInit() {\n\t\tthis.initLazyLoad();\n\t}\n\n\tngAfterContentInit() {\n\t\tthis.children.changes.subscribe(() => this.revalidate());\n\t\tif (this.children.length > 0) {\n\t\t\tthis.revalidate();\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tif (this.lazyLoad) {\n\t\t\tthis.lazyLoad.destroy();\n\t\t}\n\t}\n\n\tprivate async initLazyLoad() {\n\n\t\tlet options: LazyLoadOptions = {};\n\t\toptions.selector = \".ionx-lazy-image\";\n\t\toptions.container = this.element.nativeElement;\n\n\t\tif (this.element.nativeElement.tagName.toLowerCase() === \"ion-content\") {\n\n\t\t\tfor (let i = 0; i < 40; i++) {\n\t\t\t\toptions.scroll = this.element.nativeElement.shadowRoot && this.element.nativeElement.shadowRoot.querySelector(\".inner-scroll\");\n\n\t\t\t\tif (!options.scroll) {\n\t\t\t\t\tawait sleep(50);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.lazyLoad = new LazyLoad(options);\n\t}\n\n}\n","import {NgModule} from \"@angular/core\";\nimport {LazyImage, LazyImageContainer} from \"./lazy-image\";\n\nexport {LazyImage, LazyImageContainer} from \"./lazy-image\";\nexport {ensureLazyImagesLoaded} from \"./lazy-load\";\n\n@NgModule({\n    declarations: [LazyImage, LazyImageContainer],\n    exports: [LazyImage, LazyImageContainer]\n})\nexport class LazyImageModule {\n}\n","import {Component, ElementRef, Input, OnDestroy, OnInit} from \"@angular/core\";\nimport {LoaderOptions} from \"./loader-options\";\n\n@Component({\n    selector: \"ionx-loader\",\n    templateUrl: \"loader.html\",\n    styles: [\n        `:host { display: block }`\n    ]\n})\nexport class Loader implements OnInit, OnDestroy, LoaderOptions {\n\n    constructor(private elementRef: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    instanceCallback: (loader: Loader) => void;\n\n    @Input()\n    header: string;\n\n    @Input()\n    message: string;\n\n    @Input()\n    mode: \"spinner\" | \"progress\";\n\n    @Input()\n    progressMessage: string;\n\n    @Input()\n    progressType: \"determinate\" | \"indeterminate\" = \"determinate\";\n\n    @Input()\n    progressValue: number = 0;\n\n    @Input()\n    progressBuffer: number = 0;\n\n    @Input()\n    progressPercent: number;\n\n    get progressPercentVisible() {\n        return typeof this.progressPercent === \"number\";\n    }\n\n    get spinnerMode() {\n        return this.mode === \"spinner\";\n    }\n\n    get progressMode() {\n        return this.mode === \"progress\";\n    }\n\n    dismiss() {\n        return this.popover.dismiss();\n    }\n\n    private popover: HTMLIonPopoverElement;\n\n    ngOnInit() {\n        this.popover = this.elementRef.nativeElement.closest(\"ion-popover\");\n\n        if (this.instanceCallback) {\n            this.instanceCallback(this);\n        }\n    }\n\n    ngOnDestroy() {\n        this.popover = undefined;\n        this.instanceCallback = undefined;\n    }\n}\n","import {Injectable} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\nimport {PopoverController} from \"@ionic/angular\";\nimport {Loader} from \"./loader\";\nimport {LoaderOptions} from \"./loader-options\";\n\n@Injectable()\nexport class LoaderController {\n\n    constructor(protected popoverController: PopoverController) {\n    }\n\n    async present(options: LoaderOptions) {\n\n        let loader: Loader;\n\n        const loaderInstance = (instance: Loader) => loader = instance;\n\n        const popover = await this.popoverController.create({\n            animated: false,\n            cssClass: \"ionx-popover-flex\",\n            backdropDismiss: false,\n            keyboardClose: false,\n            component: Loader,\n            componentProps: {\n                instanceCallback: (loader: Loader) => loaderInstance(loader),\n                header: options.header,\n                message: options.message,\n                mode: options.mode || \"spinner\"\n            }\n        });\n\n        // popover.style.setProperty(\"--width\", \"100%\");\n        // popover.style.setProperty(\"--maxHeight\", \"100%\");\n\n        // const content = popover.querySelector(\".popover-content\") as HTMLElement;\n        // content.style.background = \"transparent\";\n        // content.style.borderRadius = \"0px\";\n        // content.style.left = \"0px !important\";\n        // content.style.top = \"0px !important\";\n        // content.style.height = \"100%\";\n        // content.style.width = \"100%\";\n        // content.style.maxWidth = \"none\";\n        // content.style.maxHeight = \"none\";\n        // content.style.boxShadow = \"none\";\n\n        popover.present();\n\n        await waitTill(() => !!loader);\n\n        return loader;\n    }\n\n}\n\n\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IntlModule} from \"@co.mmons/angular-intl\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {LoaderController} from \"./loader-controller\";\nimport {Loader} from \"./loader\";\n\nexport {Loader} from \"./loader\";\n\n@NgModule({\n    declarations: [Loader],\n    imports: [IntlModule, IonicModule, CommonModule],\n    entryComponents: [Loader],\n    providers: [LoaderController]\n})\nexport class LoaderModule {\n}\n","import {Component, EventEmitter, Input, Output, TemplateRef, ViewChild} from \"@angular/core\";\nimport {ModalController} from \"@ionic/angular\";\n\n@Component({\n    selector: \"ionx-modal-controller\",\n    template: `\n        <ng-template #modalContent>\n            <ng-content></ng-content>\n        </ng-template>\n    `\n})\nexport class ModalControllerComponent {\n\n    constructor(private controller: ModalController) {\n    }\n\n    @Input()\n    private cssClass: string;\n\n    @Input()\n    private backdropDismiss: boolean;\n\n    @Input()\n    private showBackdrop: boolean;\n\n    @ViewChild(\"modalContent\", {static: true})\n    private content: TemplateRef<any>;\n\n    @Output()\n    public readonly willEnter: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly didEnter: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly didDismiss: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly willDismiss: EventEmitter<any> = new EventEmitter();\n\n    private modal: HTMLIonModalElement;\n\n    public async present() {\n\n        // already opened - should we close existing and open new?\n        if (this.modal) {\n            return;\n        }\n        \n        this.modal = (await this.controller.create({component: ModalControllerContentComponent, componentProps: {template: this.content}, backdropDismiss: this.backdropDismiss, showBackdrop: this.showBackdrop, cssClass: this.cssClass}));\n\n        this.willEnter.next();\n\n        await this.modal.present();\n\n        this.didEnter.next();\n\n        this._presented = true;\n\n        if (await this.modal.onWillDismiss()) {\n            this.willDismiss.next();\n        }\n\n        if (await this.modal.onDidDismiss()) {\n            this.didDismiss.next();\n            this.modal = undefined;\n            this._presented = false;\n        }\n    }\n\n    private _presented: boolean = false;\n\n    public get presented() {\n        return this._presented;\n    }\n\n    public dismiss(data?: any, role?: any): Promise<any> {\n\n        if (this.modal) {\n            return this.modal.dismiss(data, role);\n        }\n\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n\n}\n\n@Component({\n    template: `\n        <ng-container *ngTemplateOutlet=\"template\"></ng-container>\n    `\n})\nexport class ModalControllerContentComponent {\n\n    constructor() {\n        //this.template = params.get(\"template\");\n    }\n\n    template: TemplateRef<any>;\n\n    ngOnDestroy() {\n        this.template = undefined;\n    }\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\n\nimport {ModalControllerComponent, ModalControllerContentComponent} from \"./modal-controller\";\n\nexport {ModalControllerComponent} from \"./modal-controller\";\n\n@NgModule({\n    declarations: [ModalControllerComponent, ModalControllerContentComponent],\n    exports: [ModalControllerComponent],\n    imports: [CommonModule, IonicModule],\n    entryComponents: [ModalControllerComponent, ModalControllerContentComponent]\n})\nexport class ModalModule {\n}\n","import {Component, TemplateRef, Input, ViewChild, EventEmitter, Output, ViewEncapsulation} from \"@angular/core\";\nimport {PopoverController} from \"@ionic/angular\";\n\n@Component({\n    selector: \"ionx-popover-controller\",\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <ng-template #popoverContent>\n            <ng-content></ng-content>\n        </ng-template>\n    `\n})\nexport class PopoverControllerComponent {\n\n    constructor(private controller: PopoverController) {\n    }\n\n    @Input()\n    private cssClass: string;\n\n    @Input()\n    private enableBackdropDismiss: boolean;\n\n    @Input()\n    private showBackdrop: boolean;\n\n    @ViewChild(\"popoverContent\", {static: true})\n    private content: TemplateRef<any>;\n\n    @Output()\n    public readonly willEnter: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly didEnter: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly didDismiss: EventEmitter<any> = new EventEmitter();\n\n    @Output()\n    public readonly willDismiss: EventEmitter<any> = new EventEmitter();\n\n    private popover: HTMLIonPopoverElement;\n\n    public async present(event?: Event) {\n\n        // already opened - should we close existing and open new?\n        if (this.popover) {\n            return;\n        }\n        \n        this.popover = (await this.controller.create({component: PopoverControllerContentComponent, componentProps: {template: this.content}, backdropDismiss: this.enableBackdropDismiss, showBackdrop: this.showBackdrop, cssClass: this.cssClass, event: event}));\n\n        this.willEnter.next();\n\n        await this.popover.present();\n\n        this.didEnter.next();\n\n        this._presented = true;\n\n        if (await this.popover.onWillDismiss()) {\n            this.willDismiss.next();\n        }\n\n        this._dismissing = true;\n        if (await this.popover.onDidDismiss()) {\n            this.didDismiss.next();\n            this.popover = undefined;\n            this._presented = false;\n            this._dismissing = false;\n        }\n    }\n\n    private _dismissing: boolean = false;\n\n    public get dismissing(): boolean {\n        return this._dismissing;\n    }\n\n    private _presented: boolean = false;\n\n    public get presented() {\n        return this._presented;\n    }\n\n    public dismiss(data?: any, role?: any): Promise<any> {\n\n        if (this.popover) {\n            return this.popover.dismiss(data, role);\n        }\n\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n\n}\n\n@Component({\n    encapsulation: ViewEncapsulation.None,\n    template: `\n        <ng-template [ngTemplateOutlet]=\"template\"></ng-template>\n    `\n})\nexport class PopoverControllerContentComponent {\n\n    constructor() {\n        //this.template = params.get(\"template\");\n    }\n\n    @Input()\n    template: TemplateRef<any>;\n\n    ngOnDestroy() {\n        this.template = undefined;\n    }\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {PopoverControllerComponent, PopoverControllerContentComponent} from \"./popover-controller\";\n\nexport {PopoverControllerComponent} from \"./popover-controller\";\n\n@NgModule({\n    declarations: [PopoverControllerComponent, PopoverControllerContentComponent],\n    exports: [PopoverControllerComponent],\n    imports: [IonicModule, CommonModule],\n    entryComponents: [PopoverControllerComponent, PopoverControllerContentComponent]\n})\nexport class PopoverModule {\n}","import {Component, ElementRef} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-pseudo-input\",\n    styleUrls: [\"pseudo-input.scss\"],\n    exportAs: \"ionxPseudoInput\",\n    template: \"<ng-content></ng-content>\"\n})\nexport class PseudoInput {\n\n    constructor(protected element: ElementRef<HTMLElement>) {\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {PseudoInput} from \"./pseudo-input\";\n\nexport {PseudoInput} from \"./pseudo-input\";\n\n@NgModule({\n    declarations: [PseudoInput],\n    exports: [PseudoInput]\n})\nexport class PseudoInputModule {\n}","import {Component, Input} from \"@angular/core\";\n\n@Component({\n    selector: \"ionx-spinner\",\n    styleUrls: [\"spinner.scss\"],\n    template: `<ion-backdrop *ngIf=\"backdropVisible\"></ion-backdrop><ion-spinner [name]=\"name\" [color]=\"color\"></ion-spinner>`\n})\nexport class Spinner {\n\n    @Input()\n    backdropVisible: boolean = false;\n\n    @Input()\n    fill: boolean = false;\n\n    @Input()\n    color: string;\n\n    @Input()\n    name: string;\n\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {Spinner} from \"./spinner\";\n\nexport {Spinner} from \"./spinner\";\n\n@NgModule({\n    declarations: [Spinner],\n    exports: [Spinner],\n    imports: [CommonModule, IonicModule]\n})\nexport class SpinnerModule {\n}","import {ElementRef, HostListener, Directive, OnInit} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-textarea[ionx-autosize]\"\n})\n\nexport class TextareaAutosize implements OnInit {\n\n    constructor(public element: ElementRef<HTMLIonTextareaElement>) {\n    }\n\n    @HostListener(\"ionChange\")\n    protected onChange(): void {\n        this.adjust();\n    }\n\n    private get textarea() {\n        return this.element.nativeElement.querySelector(\"textarea\");\n    }\n\n    private adjust(): void {\n        let input = this.textarea;\n        if (input) {\n            input.style.overflow = \"hidden\";\n            input.style.height = \"auto\";\n            input.style.height = input.scrollHeight + \"px\";\n        }\n    }\n\n    async ngOnInit() {\n        await waitTill(() => !!this.textarea);\n        this.adjust();\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {TextareaAutosize} from \"./textarea-autosize\";\n\n@NgModule({\n    declarations: [TextareaAutosize],\n    exports: [TextareaAutosize],\n    imports: [IonicModule]\n})\nexport class TextareaAutosizeModule {\n}","import {Component, ContentChild, Input} from \"@angular/core\";\nimport {IonToggle} from \"@ionic/angular\";\n\n@Component({\n    selector: \"ionx-toggle-labels\",\n    templateUrl: \"toggle-labels.html\",\n    styleUrls: [\"toggle-labels.scss\"]\n})\nexport class ToggleLabels {\n\n    constructor() {\n    }\n\n    @Input()\n    on: string;\n\n    @Input()\n    off: string;\n\n    @ContentChild(IonToggle, {static: false})\n    private toggle: IonToggle;\n\n    switchOn() {\n        this.toggle.checked = true;\n    }\n\n    switchOff() {\n        this.toggle.checked = false;\n    }\n\n}\n","import {CommonModule} from \"@angular/common\";\nimport {NgModule} from \"@angular/core\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {ToggleLabels} from \"./toggle-labels\";\n\nexport {ToggleLabels} from \"./toggle-labels\";\n\n@NgModule({\n    declarations: [ToggleLabels],\n    exports: [ToggleLabels],\n    imports: [CommonModule, IonicModule]\n})\nexport class ToggleLabelsModule {\n}\n"]}